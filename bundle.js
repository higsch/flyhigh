var app=function(){"use strict";function t(){}const e=t=>t;function n(t,e){for(const n in e)t[n]=e[n];return t}function r(t){return t()}function a(){return Object.create(null)}function i(t){t.forEach(r)}function c(t){return"function"==typeof t}function o(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}const f="undefined"!=typeof window;let s=f?()=>window.performance.now():()=>Date.now(),u=f?t=>requestAnimationFrame(t):t;const l=new Set;let d,h=!1;function b(){l.forEach(t=>{t[0](s())||(l.delete(t),t[1]())}),(h=l.size>0)&&u(b)}function p(t,e){t.appendChild(e)}function g(t,e,n){t.insertBefore(e,n||null)}function v(t){t.parentNode.removeChild(t)}function m(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function y(t){return document.createElement(t)}function _(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function w(t){return document.createTextNode(t)}function x(){return w(" ")}function M(){return w("")}function k(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function A(t,e,n){null==n?t.removeAttribute(e):t.setAttribute(e,n)}function C(t,e){e=""+e,t.data!==e&&(t.data=e)}function T(t,e,n){t.style.setProperty(e,n)}function $(t,e){"static"===getComputedStyle(t).position&&(t.style.position="relative");const n=document.createElement("object");let r;return n.setAttribute("style","display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; pointer-events: none; z-index: -1;"),n.type="text/html",n.tabIndex=-1,n.onload=(()=>{(r=n.contentDocument.defaultView).addEventListener("resize",e)}),/Trident/.test(navigator.userAgent)?(t.appendChild(n),n.data="about:blank"):(n.data="about:blank",t.appendChild(n)),{cancel:()=>{r&&r.removeEventListener&&r.removeEventListener("resize",e),t.removeChild(n)}}}function N(t,e,n){t.classList[n?"add":"remove"](e)}function S(t,e){const n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!1,!1,e),n}class D{constructor(t,e=null){this.e=y("div"),this.a=e,this.u(t)}m(t,e=null){for(let n=0;n<this.n.length;n+=1)g(t,this.n[n],e);this.t=t}u(t){this.e.innerHTML=t,this.n=Array.from(this.e.childNodes)}p(t){this.d(),this.u(t),this.m(this.t,this.a)}d(){this.n.forEach(v)}}let E,P=0,L={};function U(t,e,n,r,a,i,c,o=0){const f=16.666/r;let s="{\n";for(let t=0;t<=1;t+=f){const r=e+(n-e)*i(t);s+=100*t+`%{${c(r,1-r)}}\n`}const u=s+`100% {${c(n,1-n)}}\n}`,l=`__svelte_${function(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}(u)}_${o}`;if(!L[l]){if(!d){const t=y("style");document.head.appendChild(t),d=t.sheet}L[l]=!0,d.insertRule(`@keyframes ${l} ${u}`,d.cssRules.length)}const h=t.style.animation||"";return t.style.animation=`${h?`${h}, `:""}${l} ${r}ms linear ${a}ms 1 both`,P+=1,l}function Y(t,e){t.style.animation=(t.style.animation||"").split(", ").filter(e?t=>t.indexOf(e)<0:t=>-1===t.indexOf("__svelte")).join(", "),e&&!--P&&u(()=>{if(P)return;let t=d.cssRules.length;for(;t--;)d.deleteRule(t);L={}})}function z(t){E=t}function O(t){(function(){if(!E)throw new Error("Function called outside component initialization");return E})().$$.on_mount.push(t)}function R(){const t=E;return(e,n)=>{const r=t.$$.callbacks[e];if(r){const a=S(e,n);r.slice().forEach(e=>{e.call(t,a)})}}}const F=[],I=[],j=[],H=[],W=Promise.resolve();let q,Z=!1;function X(t){j.push(t)}function B(){const t=new Set;do{for(;F.length;){const t=F.shift();z(t),V(t.$$)}for(;I.length;)I.pop()();for(let e=0;e<j.length;e+=1){const n=j[e];t.has(n)||(n(),t.add(n))}j.length=0}while(F.length);for(;H.length;)H.pop()();Z=!1}function V(t){t.fragment&&(t.update(t.dirty),i(t.before_update),t.fragment.p(t.dirty,t.ctx),t.dirty=null,t.after_update.forEach(X))}function G(t,e,n){t.dispatchEvent(S(`${e?"intro":"outro"}${n}`))}const J=new Set;let Q;function K(){Q={r:0,c:[],p:Q}}function tt(){Q.r||i(Q.c),Q=Q.p}function et(t,e){t&&t.i&&(J.delete(t),t.i(e))}function nt(t,e,n,r){if(t&&t.o){if(J.has(t))return;J.add(t),Q.c.push(()=>{J.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}}function rt(n,r,a,o){let f=r(n,a),d=o?0:1,p=null,g=null,v=null;function m(){v&&Y(n,v)}function y(t,e){const n=t.b-d;return e*=Math.abs(n),{a:d,b:t.b,d:n,duration:e,start:t.start,end:t.start+e,group:t.group}}function _(r){const{delay:a=0,duration:c=300,easing:o=e,tick:_=t,css:w}=f,x={start:s()+a,b:r};r||(x.group=Q,Q.r+=1),p?g=x:(w&&(m(),v=U(n,d,r,c,a,o,w)),r&&_(0,1),p=y(x,c),X(()=>G(n,r,"start")),function(t){let e;h||(h=!0,u(b)),new Promise(n=>{l.add(e=[t,n])})}(t=>{if(g&&t>g.start&&(p=y(g,c),g=null,G(n,p.b,"start"),w&&(m(),v=U(n,d,p.b,p.duration,0,o,f.css))),p)if(t>=p.end)_(d=p.b,1-d),G(n,p.b,"end"),g||(p.b?m():--p.group.r||i(p.group.c)),p=null;else if(t>=p.start){const e=t-p.start;d=p.a+p.d*o(e/p.duration),_(d,1-d)}return!(!p&&!g)}))}return{run(t){c(f)?(q||(q=Promise.resolve()).then(()=>{q=null}),q).then(()=>{f=f(),_(t)}):_(t)},end(){m(),p=g=null}}}function at(t,e){const r=e.token={};function a(t,a,i,c){if(e.token!==r)return;e.resolved=i&&{[i]:c};const o=n(n({},e.ctx),e.resolved),f=t&&(e.current=t)(o);e.block&&(e.blocks?e.blocks.forEach((t,n)=>{n!==a&&t&&(K(),nt(t,1,1,()=>{e.blocks[n]=null}),tt())}):e.block.d(1),f.c(),et(f,1),f.m(e.mount(),e.anchor),B()),e.block=f,e.blocks&&(e.blocks[a]=f)}if((i=t)&&"object"==typeof i&&"function"==typeof i.then){if(t.then(t=>{a(e.then,1,e.value,t)},t=>{a(e.catch,2,e.error,t)}),e.current!==e.pending)return a(e.pending,0),!0}else{if(e.current!==e.then)return a(e.then,1,e.value,t),!0;e.resolved={[e.value]:t}}var i}function it(t,e){t.d(1),e.delete(t.key)}function ct(t,e,n){const{fragment:a,on_mount:o,on_destroy:f,after_update:s}=t.$$;a.m(e,n),X(()=>{const e=o.map(r).filter(c);f?f.push(...e):i(e),t.$$.on_mount=[]}),s.forEach(X)}function ot(t,e){t.$$.fragment&&(i(t.$$.on_destroy),t.$$.fragment.d(e),t.$$.on_destroy=t.$$.fragment=null,t.$$.ctx={})}function ft(t,e){t.$$.dirty||(F.push(t),Z||(Z=!0,W.then(B)),t.$$.dirty=a()),t.$$.dirty[e]=!0}function st(e,n,r,c,o,f){const s=E;z(e);const u=n.props||{},l=e.$$={fragment:null,ctx:null,props:f,update:t,not_equal:o,bound:a(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(s?s.$$.context:[]),callbacks:a(),dirty:null};let d=!1;var h;l.ctx=r?r(e,u,(t,n)=>{l.ctx&&o(l.ctx[t],l.ctx[t]=n)&&(l.bound[t]&&l.bound[t](n),d&&ft(e,t))}):u,l.update(),d=!0,i(l.before_update),l.fragment=c(l.ctx),n.target&&(n.hydrate?l.fragment.l((h=n.target,Array.from(h.childNodes))):l.fragment.c(),n.intro&&et(e.$$.fragment),ct(e,n.target,n.anchor),B()),z(s)}class ut{$destroy(){ot(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(){}}function lt(e){var n,r,a,i,c,o,f,s,u,l,d,h,b,m,M,k,C,T,N,S,D;return{c(){(n=y("div")).innerHTML='<h4 class="svelte-cyhztp">How to read this chart</h4> <p class="mt">\n\t\t\t    Each line is showing prices for a flight from Stockholm to Frankfurt for one passenger â€“ collected from\n\t\t\t    30 days before departure until the day before takeoff.\n\t\t\t    The color at each time point tells whether the price is above or below the final price.\n\t\t\t    Change the time points by sliding the brush and try to click on the lines.\n\t\t\t  </p>',a=x(),i=_("svg"),c=_("g"),o=_("line"),f=_("text"),s=w("below"),l=_("g"),d=_("line"),h=_("text"),b=w("above"),k=_("g"),C=_("line"),T=_("text"),N=w("final price"),X(()=>e.div_resize_handler.call(n)),A(n,"class","text svelte-cyhztp"),A(o,"class","low svelte-cyhztp"),A(o,"x1","0"),A(o,"y1",e.lineYOffset),A(o,"x2",e.lineWidth),A(o,"y2",e.lineYOffset),A(f,"transform",u="translate("+e.lineWidth/2+" "+e.textYOffset+")"),A(f,"class","svelte-cyhztp"),A(c,"class","first"),A(c,"transform","translate("+dt/2+" 0)"),A(d,"class","high svelte-cyhztp"),A(d,"x1","0"),A(d,"y1",e.lineYOffset),A(d,"x2",e.lineWidth),A(d,"y2",e.lineYOffset),A(h,"transform",m="translate("+e.lineWidth/2+" "+e.textYOffset+")"),A(h,"class","svelte-cyhztp"),A(l,"class","second"),A(l,"transform",M="translate("+(1.5*dt+e.lineWidth)+" 0)"),A(C,"class","final svelte-cyhztp"),A(C,"x1","0"),A(C,"y1",e.lineYOffset),A(C,"x2",e.lineWidth),A(C,"y2",e.lineYOffset),A(T,"transform",S="translate("+e.lineWidth/2+" "+e.textYOffset+")"),A(T,"class","svelte-cyhztp"),A(k,"class","third"),A(k,"transform",D="translate("+(2.5*dt+2*e.lineWidth)+" 0)"),A(i,"width",e.width),A(i,"height",e.svgHeight),A(i,"class","svelte-cyhztp")},m(t,u){g(t,n,u),r=$(n,e.div_resize_handler.bind(n)),g(t,a,u),g(t,i,u),p(i,c),p(c,o),p(c,f),p(f,s),p(i,l),p(l,d),p(l,h),p(h,b),p(i,k),p(k,C),p(k,T),p(T,N)},p(t,e){t.lineYOffset&&A(o,"y1",e.lineYOffset),t.lineWidth&&A(o,"x2",e.lineWidth),t.lineYOffset&&A(o,"y2",e.lineYOffset),(t.lineWidth||t.textYOffset)&&u!==(u="translate("+e.lineWidth/2+" "+e.textYOffset+")")&&A(f,"transform",u),t.lineYOffset&&A(d,"y1",e.lineYOffset),t.lineWidth&&A(d,"x2",e.lineWidth),t.lineYOffset&&A(d,"y2",e.lineYOffset),(t.lineWidth||t.textYOffset)&&m!==(m="translate("+e.lineWidth/2+" "+e.textYOffset+")")&&A(h,"transform",m),t.lineWidth&&M!==(M="translate("+(1.5*dt+e.lineWidth)+" 0)")&&A(l,"transform",M),t.lineYOffset&&A(C,"y1",e.lineYOffset),t.lineWidth&&A(C,"x2",e.lineWidth),t.lineYOffset&&A(C,"y2",e.lineYOffset),(t.lineWidth||t.textYOffset)&&S!==(S="translate("+e.lineWidth/2+" "+e.textYOffset+")")&&A(T,"transform",S),t.lineWidth&&D!==(D="translate("+(2.5*dt+2*e.lineWidth)+" 0)")&&A(k,"transform",D),t.width&&A(i,"width",e.width),t.svgHeight&&A(i,"height",e.svgHeight)},i:t,o:t,d(t){t&&v(n),r.cancel(),t&&(v(a),v(i))}}}const dt=15;function ht(t,e,n){let r,a,i,c,o,f;return t.$$.update=((t={width:1,height:1,svgHeight:1})=>{t.width&&n("lineWidth",i=((r||0)-3*dt)/3),t.height&&n("svgHeight",c=(a||0)/2),t.svgHeight&&n("lineYOffset",o=c/1.5),t.svgHeight&&n("textYOffset",f=c/2.5)}),{width:r,height:a,lineWidth:i,svgHeight:c,lineYOffset:o,textYOffset:f,div_resize_handler:function(){r=this.clientWidth,a=this.clientHeight,n("width",r),n("height",a)}}}class bt extends ut{constructor(t){super(),st(this,t,ht,lt,o,[])}}function pt(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function gt(t){var e;return 1===t.length&&(e=t,t=function(t,n){return pt(e(t),n)}),{left:function(e,n,r,a){for(null==r&&(r=0),null==a&&(a=e.length);r<a;){var i=r+a>>>1;t(e[i],n)<0?r=i+1:a=i}return r},right:function(e,n,r,a){for(null==r&&(r=0),null==a&&(a=e.length);r<a;){var i=r+a>>>1;t(e[i],n)>0?a=i:r=i+1}return r}}}var vt=gt(pt).right;var mt=Math.sqrt(50),yt=Math.sqrt(10),_t=Math.sqrt(2);function wt(t,e,n){var r=(e-t)/Math.max(0,n),a=Math.floor(Math.log(r)/Math.LN10),i=r/Math.pow(10,a);return a>=0?(i>=mt?10:i>=yt?5:i>=_t?2:1)*Math.pow(10,a):-Math.pow(10,-a)/(i>=mt?10:i>=yt?5:i>=_t?2:1)}function xt(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),a=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),i=r/a;return i>=mt?a*=10:i>=yt?a*=5:i>=_t&&(a*=2),e<t?-a:a}function Mt(t,e){var n,r,a=t.length,i=-1;if(null==e){for(;++i<a;)if(null!=(n=t[i])&&n>=n)for(r=n;++i<a;)null!=(n=t[i])&&n>r&&(r=n)}else for(;++i<a;)if(null!=(n=e(t[i],i,t))&&n>=n)for(r=n;++i<a;)null!=(n=e(t[i],i,t))&&n>r&&(r=n);return r}var kt={value:function(){}};function At(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r)throw new Error("illegal type: "+t);r[t]=[]}return new Ct(r)}function Ct(t){this._=t}function Tt(t,e){for(var n,r=0,a=t.length;r<a;++r)if((n=t[r]).name===e)return n.value}function $t(t,e,n){for(var r=0,a=t.length;r<a;++r)if(t[r].name===e){t[r]=kt,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}Ct.prototype=At.prototype={constructor:Ct,on:function(t,e){var n,r,a=this._,i=(r=a,(t+"").trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");if(n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),t&&!r.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:e}})),c=-1,o=i.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++c<o;)if(n=(t=i[c]).type)a[n]=$t(a[n],t.name,e);else if(null==e)for(n in a)a[n]=$t(a[n],t.name,null);return this}for(;++c<o;)if((n=(t=i[c]).type)&&(n=Tt(a[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new Ct(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,a=new Array(n),i=0;i<n;++i)a[i]=arguments[i+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(i=0,n=(r=this._[t]).length;i<n;++i)r[i].value.apply(e,a)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],a=0,i=r.length;a<i;++a)r[a].value.apply(e,n)}};var Nt="http://www.w3.org/1999/xhtml",St={svg:"http://www.w3.org/2000/svg",xhtml:Nt,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Dt(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),St.hasOwnProperty(e)?{space:St[e],local:t}:t}function Et(t){var e=Dt(t);return(e.local?function(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}:function(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Nt&&e.documentElement.namespaceURI===Nt?e.createElement(t):e.createElementNS(n,t)}})(e)}function Pt(){}function Lt(t){return null==t?Pt:function(){return this.querySelector(t)}}function Ut(){return[]}function Yt(t){return null==t?Ut:function(){return this.querySelectorAll(t)}}function zt(t){return function(){return this.matches(t)}}function Ot(t){return new Array(t.length)}function Rt(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}Rt.prototype={constructor:Rt,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var Ft="$";function It(t,e,n,r,a,i){for(var c,o=0,f=e.length,s=i.length;o<s;++o)(c=e[o])?(c.__data__=i[o],r[o]=c):n[o]=new Rt(t,i[o]);for(;o<f;++o)(c=e[o])&&(a[o]=c)}function jt(t,e,n,r,a,i,c){var o,f,s,u={},l=e.length,d=i.length,h=new Array(l);for(o=0;o<l;++o)(f=e[o])&&(h[o]=s=Ft+c.call(f,f.__data__,o,e),s in u?a[o]=f:u[s]=f);for(o=0;o<d;++o)(f=u[s=Ft+c.call(t,i[o],o,i)])?(r[o]=f,f.__data__=i[o],u[s]=null):n[o]=new Rt(t,i[o]);for(o=0;o<l;++o)(f=e[o])&&u[h[o]]===f&&(a[o]=f)}function Ht(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Wt(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function qt(t,e){return t.style.getPropertyValue(e)||Wt(t).getComputedStyle(t,null).getPropertyValue(e)}function Zt(t){return t.trim().split(/^|\s+/)}function Xt(t){return t.classList||new Bt(t)}function Bt(t){this._node=t,this._names=Zt(t.getAttribute("class")||"")}function Vt(t,e){for(var n=Xt(t),r=-1,a=e.length;++r<a;)n.add(e[r])}function Gt(t,e){for(var n=Xt(t),r=-1,a=e.length;++r<a;)n.remove(e[r])}function Jt(){this.textContent=""}function Qt(){this.innerHTML=""}function Kt(){this.nextSibling&&this.parentNode.appendChild(this)}function te(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function ee(){return null}function ne(){var t=this.parentNode;t&&t.removeChild(this)}function re(){return this.parentNode.insertBefore(this.cloneNode(!1),this.nextSibling)}function ae(){return this.parentNode.insertBefore(this.cloneNode(!0),this.nextSibling)}Bt.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var ie={},ce=null;"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(ie={mouseenter:"mouseover",mouseleave:"mouseout"}));function oe(t,e,n){return t=fe(t,e,n),function(e){var n=e.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||t.call(this,e)}}function fe(t,e,n){return function(r){var a=ce;ce=r;try{t.call(this,this.__data__,e,n)}finally{ce=a}}}function se(t){return function(){var e=this.__on;if(e){for(var n,r=0,a=-1,i=e.length;r<i;++r)n=e[r],t.type&&n.type!==t.type||n.name!==t.name?e[++a]=n:this.removeEventListener(n.type,n.listener,n.capture);++a?e.length=a:delete this.__on}}}function ue(t,e,n){var r=ie.hasOwnProperty(t.type)?oe:fe;return function(a,i,c){var o,f=this.__on,s=r(e,i,c);if(f)for(var u=0,l=f.length;u<l;++u)if((o=f[u]).type===t.type&&o.name===t.name)return this.removeEventListener(o.type,o.listener,o.capture),this.addEventListener(o.type,o.listener=s,o.capture=n),void(o.value=e);this.addEventListener(t.type,s,n),o={type:t.type,name:t.name,value:e,listener:s,capture:n},f?f.push(o):this.__on=[o]}}function le(t,e,n){var r=Wt(t),a=r.CustomEvent;"function"==typeof a?a=new a(e,n):(a=r.document.createEvent("Event"),n?(a.initEvent(e,n.bubbles,n.cancelable),a.detail=n.detail):a.initEvent(e,!1,!1)),t.dispatchEvent(a)}var de=[null];function he(t,e){this._groups=t,this._parents=e}function be(){return new he([[document.documentElement]],de)}function pe(t){return"string"==typeof t?new he([[document.querySelector(t)]],[document.documentElement]):new he([[t]],de)}function ge(){for(var t,e=ce;t=e.sourceEvent;)e=t;return e}function ve(t){var e=ge();return e.changedTouches&&(e=e.changedTouches[0]),function(t,e){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}var a=t.getBoundingClientRect();return[e.clientX-a.left-t.clientLeft,e.clientY-a.top-t.clientTop]}(t,e)}function me(){ce.preventDefault(),ce.stopImmediatePropagation()}function ye(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function _e(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function we(){}he.prototype=be.prototype={constructor:he,select:function(t){"function"!=typeof t&&(t=Lt(t));for(var e=this._groups,n=e.length,r=new Array(n),a=0;a<n;++a)for(var i,c,o=e[a],f=o.length,s=r[a]=new Array(f),u=0;u<f;++u)(i=o[u])&&(c=t.call(i,i.__data__,u,o))&&("__data__"in i&&(c.__data__=i.__data__),s[u]=c);return new he(r,this._parents)},selectAll:function(t){"function"!=typeof t&&(t=Yt(t));for(var e=this._groups,n=e.length,r=[],a=[],i=0;i<n;++i)for(var c,o=e[i],f=o.length,s=0;s<f;++s)(c=o[s])&&(r.push(t.call(c,c.__data__,s,o)),a.push(c));return new he(r,a)},filter:function(t){"function"!=typeof t&&(t=zt(t));for(var e=this._groups,n=e.length,r=new Array(n),a=0;a<n;++a)for(var i,c=e[a],o=c.length,f=r[a]=[],s=0;s<o;++s)(i=c[s])&&t.call(i,i.__data__,s,c)&&f.push(i);return new he(r,this._parents)},data:function(t,e){if(!t)return b=new Array(this.size()),u=-1,this.each(function(t){b[++u]=t}),b;var n,r=e?jt:It,a=this._parents,i=this._groups;"function"!=typeof t&&(n=t,t=function(){return n});for(var c=i.length,o=new Array(c),f=new Array(c),s=new Array(c),u=0;u<c;++u){var l=a[u],d=i[u],h=d.length,b=t.call(l,l&&l.__data__,u,a),p=b.length,g=f[u]=new Array(p),v=o[u]=new Array(p);r(l,d,g,v,s[u]=new Array(h),b,e);for(var m,y,_=0,w=0;_<p;++_)if(m=g[_]){for(_>=w&&(w=_+1);!(y=v[w])&&++w<p;);m._next=y||null}}return(o=new he(o,a))._enter=f,o._exit=s,o},enter:function(){return new he(this._enter||this._groups.map(Ot),this._parents)},exit:function(){return new he(this._exit||this._groups.map(Ot),this._parents)},join:function(t,e,n){var r=this.enter(),a=this,i=this.exit();return r="function"==typeof t?t(r):r.append(t+""),null!=e&&(a=e(a)),null==n?i.remove():n(i),r&&a?r.merge(a).order():a},merge:function(t){for(var e=this._groups,n=t._groups,r=e.length,a=n.length,i=Math.min(r,a),c=new Array(r),o=0;o<i;++o)for(var f,s=e[o],u=n[o],l=s.length,d=c[o]=new Array(l),h=0;h<l;++h)(f=s[h]||u[h])&&(d[h]=f);for(;o<r;++o)c[o]=e[o];return new he(c,this._parents)},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,a=t[e],i=a.length-1,c=a[i];--i>=0;)(r=a[i])&&(c&&4^r.compareDocumentPosition(c)&&c.parentNode.insertBefore(r,c),c=r);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=Ht);for(var n=this._groups,r=n.length,a=new Array(r),i=0;i<r;++i){for(var c,o=n[i],f=o.length,s=a[i]=new Array(f),u=0;u<f;++u)(c=o[u])&&(s[u]=c);s.sort(e)}return new he(a,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),e=-1;return this.each(function(){t[++e]=this}),t},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],a=0,i=r.length;a<i;++a){var c=r[a];if(c)return c}return null},size:function(){var t=0;return this.each(function(){++t}),t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var a,i=e[n],c=0,o=i.length;c<o;++c)(a=i[c])&&t.call(a,a.__data__,c,i);return this},attr:function(t,e){var n=Dt(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}}:"function"==typeof e?n.local?function(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}:function(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}:n.local?function(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}:function(t,e){return function(){this.setAttribute(t,e)}})(n,e))},style:function(t,e,n){return arguments.length>1?this.each((null==e?function(t){return function(){this.style.removeProperty(t)}}:"function"==typeof e?function(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}:function(t,e,n){return function(){this.style.setProperty(t,e,n)}})(t,e,null==n?"":n)):qt(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?function(t){return function(){delete this[t]}}:"function"==typeof e?function(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}:function(t,e){return function(){this[t]=e}})(t,e)):this.node()[t]},classed:function(t,e){var n=Zt(t+"");if(arguments.length<2){for(var r=Xt(this.node()),a=-1,i=n.length;++a<i;)if(!r.contains(n[a]))return!1;return!0}return this.each(("function"==typeof e?function(t,e){return function(){(e.apply(this,arguments)?Vt:Gt)(this,t)}}:e?function(t){return function(){Vt(this,t)}}:function(t){return function(){Gt(this,t)}})(n,e))},text:function(t){return arguments.length?this.each(null==t?Jt:("function"==typeof t?function(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}:function(t){return function(){this.textContent=t}})(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?Qt:("function"==typeof t?function(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}:function(t){return function(){this.innerHTML=t}})(t)):this.node().innerHTML},raise:function(){return this.each(Kt)},lower:function(){return this.each(te)},append:function(t){var e="function"==typeof t?t:Et(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})},insert:function(t,e){var n="function"==typeof t?t:Et(t),r=null==e?ee:"function"==typeof e?e:Lt(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})},remove:function(){return this.each(ne)},clone:function(t){return this.select(t?ae:re)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var r,a,i=function(t){return t.trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}})}(t+""),c=i.length;if(!(arguments.length<2)){for(o=e?ue:se,null==n&&(n=!1),r=0;r<c;++r)this.each(o(i[r],e,n));return this}var o=this.node().__on;if(o)for(var f,s=0,u=o.length;s<u;++s)for(r=0,f=o[s];r<c;++r)if((a=i[r]).type===f.type&&a.name===f.name)return f.value},dispatch:function(t,e){return this.each(("function"==typeof e?function(t,e){return function(){return le(this,t,e.apply(this,arguments))}}:function(t,e){return function(){return le(this,t,e)}})(t,e))}};var xe="\\s*([+-]?\\d+)\\s*",Me="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",ke="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Ae=/^#([0-9a-f]{3})$/,Ce=/^#([0-9a-f]{6})$/,Te=new RegExp("^rgb\\("+[xe,xe,xe]+"\\)$"),$e=new RegExp("^rgb\\("+[ke,ke,ke]+"\\)$"),Ne=new RegExp("^rgba\\("+[xe,xe,xe,Me]+"\\)$"),Se=new RegExp("^rgba\\("+[ke,ke,ke,Me]+"\\)$"),De=new RegExp("^hsl\\("+[Me,ke,ke]+"\\)$"),Ee=new RegExp("^hsla\\("+[Me,ke,ke,Me]+"\\)$"),Pe={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Le(t){var e;return t=(t+"").trim().toLowerCase(),(e=Ae.exec(t))?new Re((e=parseInt(e[1],16))>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):(e=Ce.exec(t))?Ue(parseInt(e[1],16)):(e=Te.exec(t))?new Re(e[1],e[2],e[3],1):(e=$e.exec(t))?new Re(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=Ne.exec(t))?Ye(e[1],e[2],e[3],e[4]):(e=Se.exec(t))?Ye(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=De.exec(t))?Ie(e[1],e[2]/100,e[3]/100,1):(e=Ee.exec(t))?Ie(e[1],e[2]/100,e[3]/100,e[4]):Pe.hasOwnProperty(t)?Ue(Pe[t]):"transparent"===t?new Re(NaN,NaN,NaN,0):null}function Ue(t){return new Re(t>>16&255,t>>8&255,255&t,1)}function Ye(t,e,n,r){return r<=0&&(t=e=n=NaN),new Re(t,e,n,r)}function ze(t){return t instanceof we||(t=Le(t)),t?new Re((t=t.rgb()).r,t.g,t.b,t.opacity):new Re}function Oe(t,e,n,r){return 1===arguments.length?ze(t):new Re(t,e,n,null==r?1:r)}function Re(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function Fe(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function Ie(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new je(t,e,n,r)}function je(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function He(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}ye(we,Le,{displayable:function(){return this.rgb().displayable()},hex:function(){return this.rgb().hex()},toString:function(){return this.rgb()+""}}),ye(Re,Oe,_e(we,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new Re(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Re(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:function(){return"#"+Fe(this.r)+Fe(this.g)+Fe(this.b)},toString:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}})),ye(je,function(t,e,n,r){return 1===arguments.length?function(t){if(t instanceof je)return new je(t.h,t.s,t.l,t.opacity);if(t instanceof we||(t=Le(t)),!t)return new je;if(t instanceof je)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,a=Math.min(e,n,r),i=Math.max(e,n,r),c=NaN,o=i-a,f=(i+a)/2;return o?(c=e===i?(n-r)/o+6*(n<r):n===i?(r-e)/o+2:(e-n)/o+4,o/=f<.5?i+a:2-i-a,c*=60):o=f>0&&f<1?0:c,new je(c,o,f,t.opacity)}(t):new je(t,e,n,null==r?1:r)},_e(we,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new je(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new je(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,a=2*n-r;return new Re(He(t>=240?t-240:t+120,a,r),He(t,a,r),He(t<120?t+240:t-120,a,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}));var We=Math.PI/180,qe=180/Math.PI,Ze=.96422,Xe=1,Be=.82521,Ve=4/29,Ge=6/29,Je=3*Ge*Ge,Qe=Ge*Ge*Ge;function Ke(t){if(t instanceof tn)return new tn(t.l,t.a,t.b,t.opacity);if(t instanceof cn)return on(t);t instanceof Re||(t=ze(t));var e,n,r=an(t.r),a=an(t.g),i=an(t.b),c=en((.2225045*r+.7168786*a+.0606169*i)/Xe);return r===a&&a===i?e=n=c:(e=en((.4360747*r+.3850649*a+.1430804*i)/Ze),n=en((.0139322*r+.0971045*a+.7141733*i)/Be)),new tn(116*c-16,500*(e-c),200*(c-n),t.opacity)}function tn(t,e,n,r){this.l=+t,this.a=+e,this.b=+n,this.opacity=+r}function en(t){return t>Qe?Math.pow(t,1/3):t/Je+Ve}function nn(t){return t>Ge?t*t*t:Je*(t-Ve)}function rn(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function an(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function cn(t,e,n,r){this.h=+t,this.c=+e,this.l=+n,this.opacity=+r}function on(t){if(isNaN(t.h))return new tn(t.l,0,0,t.opacity);var e=t.h*We;return new tn(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}ye(tn,function(t,e,n,r){return 1===arguments.length?Ke(t):new tn(t,e,n,null==r?1:r)},_e(we,{brighter:function(t){return new tn(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new tn(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return new Re(rn(3.1338561*(e=Ze*nn(e))-1.6168667*(t=Xe*nn(t))-.4906146*(n=Be*nn(n))),rn(-.9787684*e+1.9161415*t+.033454*n),rn(.0719453*e-.2289914*t+1.4052427*n),this.opacity)}})),ye(cn,function(t,e,n,r){return 1===arguments.length?function(t){if(t instanceof cn)return new cn(t.h,t.c,t.l,t.opacity);if(t instanceof tn||(t=Ke(t)),0===t.a&&0===t.b)return new cn(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*qe;return new cn(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}(t):new cn(t,e,n,null==r?1:r)},_e(we,{brighter:function(t){return new cn(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker:function(t){return new cn(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb:function(){return on(this).rgb()}}));var fn=-.14861,sn=1.78277,un=-.29227,ln=-.90649,dn=1.97294,hn=dn*ln,bn=dn*sn,pn=sn*un-ln*fn;function gn(t,e,n,r){return 1===arguments.length?function(t){if(t instanceof vn)return new vn(t.h,t.s,t.l,t.opacity);t instanceof Re||(t=ze(t));var e=t.r/255,n=t.g/255,r=t.b/255,a=(pn*r+hn*e-bn*n)/(pn+hn-bn),i=r-a,c=(dn*(n-a)-un*i)/ln,o=Math.sqrt(c*c+i*i)/(dn*a*(1-a)),f=o?Math.atan2(c,i)*qe-120:NaN;return new vn(f<0?f+360:f,o,a,t.opacity)}(t):new vn(t,e,n,null==r?1:r)}function vn(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function mn(t){return function(){return t}}function yn(t,e){return function(n){return t+n*e}}function _n(t){return 1==(t=+t)?wn:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):mn(isNaN(e)?n:e)}}function wn(t,e){var n=e-t;return n?yn(t,n):mn(isNaN(t)?e:t)}ye(vn,gn,_e(we,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new vn(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new vn(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*We,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),r=Math.cos(t),a=Math.sin(t);return new Re(255*(e+n*(fn*r+sn*a)),255*(e+n*(un*r+ln*a)),255*(e+n*(dn*r)),this.opacity)}}));var xn=function t(e){var n=_n(e);function r(t,e){var r=n((t=Oe(t)).r,(e=Oe(e)).r),a=n(t.g,e.g),i=n(t.b,e.b),c=wn(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=a(e),t.b=i(e),t.opacity=c(e),t+""}}return r.gamma=t,r}(1);var Mn,kn=(Mn=function(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),a=t[r],i=t[r+1],c=r>0?t[r-1]:2*a-i,o=r<e-1?t[r+2]:2*i-a;return function(t,e,n,r,a){var i=t*t,c=i*t;return((1-3*t+3*i-c)*e+(4-6*i+3*c)*n+(1+3*t+3*i-3*c)*r+c*a)/6}((n-r/e)*e,c,a,i,o)}},function(t){var e,n,r=t.length,a=new Array(r),i=new Array(r),c=new Array(r);for(e=0;e<r;++e)n=Oe(t[e]),a[e]=n.r||0,i[e]=n.g||0,c[e]=n.b||0;return a=Mn(a),i=Mn(i),c=Mn(c),n.opacity=1,function(t){return n.r=a(t),n.g=i(t),n.b=c(t),n+""}});function An(t,e){return e-=t=+t,function(n){return t+e*n}}var Cn=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Tn=new RegExp(Cn.source,"g");function $n(t,e){var n,r,a,i=Cn.lastIndex=Tn.lastIndex=0,c=-1,o=[],f=[];for(t+="",e+="";(n=Cn.exec(t))&&(r=Tn.exec(e));)(a=r.index)>i&&(a=e.slice(i,a),o[c]?o[c]+=a:o[++c]=a),(n=n[0])===(r=r[0])?o[c]?o[c]+=r:o[++c]=r:(o[++c]=null,f.push({i:c,x:An(n,r)})),i=Tn.lastIndex;return i<e.length&&(a=e.slice(i),o[c]?o[c]+=a:o[++c]=a),o.length<2?f[0]?function(t){return function(e){return t(e)+""}}(f[0].x):function(t){return function(){return t}}(e):(e=f.length,function(t){for(var n,r=0;r<e;++r)o[(n=f[r]).i]=n.x(t);return o.join("")})}function Nn(t,e){var n,r=typeof e;return null==e||"boolean"===r?mn(e):("number"===r?An:"string"===r?(n=Le(e))?(e=n,xn):$n:e instanceof Le?xn:e instanceof Date?function(t,e){var n=new Date;return e-=t=+t,function(r){return n.setTime(t+e*r),n}}:Array.isArray(e)?function(t,e){var n,r=e?e.length:0,a=t?Math.min(r,t.length):0,i=new Array(a),c=new Array(r);for(n=0;n<a;++n)i[n]=Nn(t[n],e[n]);for(;n<r;++n)c[n]=e[n];return function(t){for(n=0;n<a;++n)c[n]=i[n](t);return c}}:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?function(t,e){var n,r={},a={};for(n in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)n in t?r[n]=Nn(t[n],e[n]):a[n]=e[n];return function(t){for(n in r)a[n]=r[n](t);return a}}:An)(t,e)}function Sn(t,e){return e-=t=+t,function(n){return Math.round(t+e*n)}}var Dn,En,Pn,Ln,Un=180/Math.PI,Yn={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function zn(t,e,n,r,a,i){var c,o,f;return(c=Math.sqrt(t*t+e*e))&&(t/=c,e/=c),(f=t*n+e*r)&&(n-=t*f,r-=e*f),(o=Math.sqrt(n*n+r*r))&&(n/=o,r/=o,f/=o),t*r<e*n&&(t=-t,e=-e,f=-f,c=-c),{translateX:a,translateY:i,rotate:Math.atan2(e,t)*Un,skewX:Math.atan(f)*Un,scaleX:c,scaleY:o}}function On(t,e,n,r){function a(t){return t.length?t.pop()+" ":""}return function(i,c){var o=[],f=[];return i=t(i),c=t(c),function(t,r,a,i,c,o){if(t!==a||r!==i){var f=c.push("translate(",null,e,null,n);o.push({i:f-4,x:An(t,a)},{i:f-2,x:An(r,i)})}else(a||i)&&c.push("translate("+a+e+i+n)}(i.translateX,i.translateY,c.translateX,c.translateY,o,f),function(t,e,n,i){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),i.push({i:n.push(a(n)+"rotate(",null,r)-2,x:An(t,e)})):e&&n.push(a(n)+"rotate("+e+r)}(i.rotate,c.rotate,o,f),function(t,e,n,i){t!==e?i.push({i:n.push(a(n)+"skewX(",null,r)-2,x:An(t,e)}):e&&n.push(a(n)+"skewX("+e+r)}(i.skewX,c.skewX,o,f),function(t,e,n,r,i,c){if(t!==n||e!==r){var o=i.push(a(i)+"scale(",null,",",null,")");c.push({i:o-4,x:An(t,n)},{i:o-2,x:An(e,r)})}else 1===n&&1===r||i.push(a(i)+"scale("+n+","+r+")")}(i.scaleX,i.scaleY,c.scaleX,c.scaleY,o,f),i=c=null,function(t){for(var e,n=-1,r=f.length;++n<r;)o[(e=f[n]).i]=e.x(t);return o.join("")}}}var Rn=On(function(t){return"none"===t?Yn:(Dn||(Dn=document.createElement("DIV"),En=document.documentElement,Pn=document.defaultView),Dn.style.transform=t,t=Pn.getComputedStyle(En.appendChild(Dn),null).getPropertyValue("transform"),En.removeChild(Dn),zn(+(t=t.slice(7,-1).split(","))[0],+t[1],+t[2],+t[3],+t[4],+t[5]))},"px, ","px)","deg)"),Fn=On(function(t){return null==t?Yn:(Ln||(Ln=document.createElementNS("http://www.w3.org/2000/svg","g")),Ln.setAttribute("transform",t),(t=Ln.transform.baseVal.consolidate())?zn((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):Yn)},", ",")",")");Math.SQRT2;function In(t){return function e(n){function r(e,r){var a=t((e=gn(e)).h,(r=gn(r)).h),i=wn(e.s,r.s),c=wn(e.l,r.l),o=wn(e.opacity,r.opacity);return function(t){return e.h=a(t),e.s=i(t),e.l=c(Math.pow(t,n)),e.opacity=o(t),e+""}}return n=+n,r.gamma=e,r}(1)}In(function(t,e){var n=e-t;return n?yn(t,n>180||n<-180?n-360*Math.round(n/360):n):mn(isNaN(t)?e:t)});var jn,Hn,Wn=In(wn),qn=0,Zn=0,Xn=0,Bn=1e3,Vn=0,Gn=0,Jn=0,Qn="object"==typeof performance&&performance.now?performance:Date,Kn="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function tr(){return Gn||(Kn(er),Gn=Qn.now()+Jn)}function er(){Gn=0}function nr(){this._call=this._time=this._next=null}function rr(t,e,n){var r=new nr;return r.restart(t,e,n),r}function ar(){Gn=(Vn=Qn.now())+Jn,qn=Zn=0;try{!function(){tr(),++qn;for(var t,e=jn;e;)(t=Gn-e._time)>=0&&e._call.call(null,t),e=e._next;--qn}()}finally{qn=0,function(){var t,e,n=jn,r=1/0;for(;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:jn=e);Hn=t,cr(r)}(),Gn=0}}function ir(){var t=Qn.now(),e=t-Vn;e>Bn&&(Jn-=e,Vn=t)}function cr(t){qn||(Zn&&(Zn=clearTimeout(Zn)),t-Gn>24?(t<1/0&&(Zn=setTimeout(ar,t-Qn.now()-Jn)),Xn&&(Xn=clearInterval(Xn))):(Xn||(Vn=Qn.now(),Xn=setInterval(ir,Bn)),qn=1,Kn(ar)))}function or(t,e,n){var r=new nr;return e=null==e?0:+e,r.restart(function(n){r.stop(),t(n+e)},e,n),r}nr.prototype=rr.prototype={constructor:nr,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?tr():+n)+(null==e?0:+e),this._next||Hn===this||(Hn?Hn._next=this:jn=this,Hn=this),this._call=t,this._time=n,cr()},stop:function(){this._call&&(this._call=null,this._time=1/0,cr())}};var fr=At("start","end","cancel","interrupt"),sr=[],ur=0,lr=1,dr=2,hr=3,br=4,pr=5,gr=6;function vr(t,e,n,r,a,i){var c=t.__transition;if(c){if(n in c)return}else t.__transition={};!function(t,e,n){var r,a=t.__transition;function i(f){var s,u,l,d;if(n.state!==lr)return o();for(s in a)if((d=a[s]).name===n.name){if(d.state===hr)return or(i);d.state===br?(d.state=gr,d.timer.stop(),d.on.call("interrupt",t,t.__data__,d.index,d.group),delete a[s]):+s<e&&(d.state=gr,d.timer.stop(),d.on.call("cancel",t,t.__data__,d.index,d.group),delete a[s])}if(or(function(){n.state===hr&&(n.state=br,n.timer.restart(c,n.delay,n.time),c(f))}),n.state=dr,n.on.call("start",t,t.__data__,n.index,n.group),n.state===dr){for(n.state=hr,r=new Array(l=n.tween.length),s=0,u=-1;s<l;++s)(d=n.tween[s].value.call(t,t.__data__,n.index,n.group))&&(r[++u]=d);r.length=u+1}}function c(e){for(var a=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(o),n.state=pr,1),i=-1,c=r.length;++i<c;)r[i].call(t,a);n.state===pr&&(n.on.call("end",t,t.__data__,n.index,n.group),o())}function o(){for(var r in n.state=gr,n.timer.stop(),delete a[e],a)return;delete t.__transition}a[e]=n,n.timer=rr(function(t){n.state=lr,n.timer.restart(i,n.delay,n.time),n.delay<=t&&i(t-n.delay)},0,n.time)}(t,n,{name:e,index:r,group:a,on:fr,tween:sr,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:ur})}function mr(t,e){var n=_r(t,e);if(n.state>ur)throw new Error("too late; already scheduled");return n}function yr(t,e){var n=_r(t,e);if(n.state>hr)throw new Error("too late; already running");return n}function _r(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function wr(t,e){var n,r,a,i=t.__transition,c=!0;if(i){for(a in e=null==e?null:e+"",i)(n=i[a]).name===e?(r=n.state>dr&&n.state<pr,n.state=gr,n.timer.stop(),n.on.call(r?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete i[a]):c=!1;c&&delete t.__transition}}function xr(t,e,n){var r=t._id;return t.each(function(){var t=yr(this,r);(t.value||(t.value={}))[e]=n.apply(this,arguments)}),function(t){return _r(t,r).value[e]}}function Mr(t,e){var n;return("number"==typeof e?An:e instanceof Le?xn:(n=Le(e))?(e=n,xn):$n)(t,e)}var kr=be.prototype.constructor;function Ar(t){return function(){this.style.removeProperty(t)}}var Cr=0;function Tr(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function $r(){return++Cr}var Nr=be.prototype;Tr.prototype=function(t){return be().transition(t)}.prototype={constructor:Tr,select:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=Lt(t));for(var r=this._groups,a=r.length,i=new Array(a),c=0;c<a;++c)for(var o,f,s=r[c],u=s.length,l=i[c]=new Array(u),d=0;d<u;++d)(o=s[d])&&(f=t.call(o,o.__data__,d,s))&&("__data__"in o&&(f.__data__=o.__data__),l[d]=f,vr(l[d],e,n,d,l,_r(o,n)));return new Tr(i,this._parents,e,n)},selectAll:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=Yt(t));for(var r=this._groups,a=r.length,i=[],c=[],o=0;o<a;++o)for(var f,s=r[o],u=s.length,l=0;l<u;++l)if(f=s[l]){for(var d,h=t.call(f,f.__data__,l,s),b=_r(f,n),p=0,g=h.length;p<g;++p)(d=h[p])&&vr(d,e,n,p,h,b);i.push(h),c.push(f)}return new Tr(i,c,e,n)},filter:function(t){"function"!=typeof t&&(t=zt(t));for(var e=this._groups,n=e.length,r=new Array(n),a=0;a<n;++a)for(var i,c=e[a],o=c.length,f=r[a]=[],s=0;s<o;++s)(i=c[s])&&t.call(i,i.__data__,s,c)&&f.push(i);return new Tr(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,a=n.length,i=Math.min(r,a),c=new Array(r),o=0;o<i;++o)for(var f,s=e[o],u=n[o],l=s.length,d=c[o]=new Array(l),h=0;h<l;++h)(f=s[h]||u[h])&&(d[h]=f);for(;o<r;++o)c[o]=e[o];return new Tr(c,this._parents,this._name,this._id)},selection:function(){return new kr(this._groups,this._parents)},transition:function(){for(var t=this._name,e=this._id,n=$r(),r=this._groups,a=r.length,i=0;i<a;++i)for(var c,o=r[i],f=o.length,s=0;s<f;++s)if(c=o[s]){var u=_r(c,e);vr(c,t,n,s,o,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new Tr(r,this._parents,t,n)},call:Nr.call,nodes:Nr.nodes,node:Nr.node,size:Nr.size,empty:Nr.empty,each:Nr.each,on:function(t,e){var n=this._id;return arguments.length<2?_r(this.node(),n).on.on(t):this.each(function(t,e,n){var r,a,i=function(t){return(t+"").trim().split(/^|\s+/).every(function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t})}(e)?mr:yr;return function(){var c=i(this,t),o=c.on;o!==r&&(a=(r=o).copy()).on(e,n),c.on=a}}(n,t,e))},attr:function(t,e){var n=Dt(t),r="transform"===n?Fn:Mr;return this.attrTween(t,"function"==typeof e?(n.local?function(t,e,n){var r,a,i;return function(){var c,o,f=n(this);if(null!=f)return(c=this.getAttributeNS(t.space,t.local))===(o=f+"")?null:c===r&&o===a?i:(a=o,i=e(r=c,f));this.removeAttributeNS(t.space,t.local)}}:function(t,e,n){var r,a,i;return function(){var c,o,f=n(this);if(null!=f)return(c=this.getAttribute(t))===(o=f+"")?null:c===r&&o===a?i:(a=o,i=e(r=c,f));this.removeAttribute(t)}})(n,r,xr(this,"attr."+t,e)):null==e?(n.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}})(n):(n.local?function(t,e,n){var r,a,i=n+"";return function(){var c=this.getAttributeNS(t.space,t.local);return c===i?null:c===r?a:a=e(r=c,n)}}:function(t,e,n){var r,a,i=n+"";return function(){var c=this.getAttribute(t);return c===i?null:c===r?a:a=e(r=c,n)}})(n,r,e))},attrTween:function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var r=Dt(t);return this.tween(n,(r.local?function(t,e){var n,r;function a(){var a=e.apply(this,arguments);return a!==r&&(n=(r=a)&&function(t,e){return function(n){this.setAttributeNS(t.space,t.local,e(n))}}(t,a)),n}return a._value=e,a}:function(t,e){var n,r;function a(){var a=e.apply(this,arguments);return a!==r&&(n=(r=a)&&function(t,e){return function(n){this.setAttribute(t,e(n))}}(t,a)),n}return a._value=e,a})(r,e))},style:function(t,e,n){var r="transform"==(t+="")?Rn:Mr;return null==e?this.styleTween(t,function(t,e){var n,r,a;return function(){var i=qt(this,t),c=(this.style.removeProperty(t),qt(this,t));return i===c?null:i===n&&c===r?a:a=e(n=i,r=c)}}(t,r)).on("end.style."+t,Ar(t)):"function"==typeof e?this.styleTween(t,function(t,e,n){var r,a,i;return function(){var c=qt(this,t),o=n(this),f=o+"";return null==o&&(this.style.removeProperty(t),f=o=qt(this,t)),c===f?null:c===r&&f===a?i:(a=f,i=e(r=c,o))}}(t,r,xr(this,"style."+t,e))).each(function(t,e){var n,r,a,i,c="style."+e,o="end."+c;return function(){var f=yr(this,t),s=f.on,u=null==f.value[c]?i||(i=Ar(e)):void 0;s===n&&a===u||(r=(n=s).copy()).on(o,a=u),f.on=r}}(this._id,t)):this.styleTween(t,function(t,e,n){var r,a,i=n+"";return function(){var c=qt(this,t);return c===i?null:c===r?a:a=e(r=c,n)}}(t,r,e),n).on("end.style."+t,null)},styleTween:function(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!=typeof e)throw new Error;return this.tween(r,function(t,e,n){var r,a;function i(){var i=e.apply(this,arguments);return i!==a&&(r=(a=i)&&function(t,e,n){return function(r){this.style.setProperty(t,e(r),n)}}(t,i,n)),r}return i._value=e,i}(t,e,null==n?"":n))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var e=t(this);this.textContent=null==e?"":e}}(xr(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},remove:function(){return this.on("end.remove",(t=this._id,function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}));var t},tween:function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r,a=_r(this.node(),n).tween,i=0,c=a.length;i<c;++i)if((r=a[i]).name===t)return r.value;return null}return this.each((null==e?function(t,e){var n,r;return function(){var a=yr(this,t),i=a.tween;if(i!==n)for(var c=0,o=(r=n=i).length;c<o;++c)if(r[c].name===e){(r=r.slice()).splice(c,1);break}a.tween=r}}:function(t,e,n){var r,a;if("function"!=typeof n)throw new Error;return function(){var i=yr(this,t),c=i.tween;if(c!==r){a=(r=c).slice();for(var o={name:e,value:n},f=0,s=a.length;f<s;++f)if(a[f].name===e){a[f]=o;break}f===s&&a.push(o)}i.tween=a}})(n,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?function(t,e){return function(){mr(this,t).delay=+e.apply(this,arguments)}}:function(t,e){return e=+e,function(){mr(this,t).delay=e}})(e,t)):_r(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?function(t,e){return function(){yr(this,t).duration=+e.apply(this,arguments)}}:function(t,e){return e=+e,function(){yr(this,t).duration=e}})(e,t)):_r(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each(function(t,e){if("function"!=typeof e)throw new Error;return function(){yr(this,t).ease=e}}(e,t)):_r(this.node(),e).ease},end:function(){var t,e,n=this,r=n._id,a=n.size();return new Promise(function(i,c){var o={value:c},f={value:function(){0==--a&&i()}};n.each(function(){var n=yr(this,r),a=n.on;a!==t&&((e=(t=a).copy())._.cancel.push(o),e._.interrupt.push(o),e._.end.push(f)),n.on=e})})}};Math.PI,Math.PI;var Sr={time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};function Dr(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))return Sr.time=tr(),Sr;return n}function Er(t){return function(){return t}}function Pr(t,e,n){this.target=t,this.type=e,this.selection=n}function Lr(){ce.stopImmediatePropagation()}function Ur(){ce.preventDefault(),ce.stopImmediatePropagation()}be.prototype.interrupt=function(t){return this.each(function(){wr(this,t)})},be.prototype.transition=function(t){var e,n;t instanceof Tr?(e=t._id,t=t._name):(e=$r(),(n=Sr).time=tr(),t=null==t?null:t+"");for(var r=this._groups,a=r.length,i=0;i<a;++i)for(var c,o=r[i],f=o.length,s=0;s<f;++s)(c=o[s])&&vr(c,t,e,s,o,n||Dr(c,e));return new Tr(r,this._parents,t,e)};var Yr={name:"drag"},zr={name:"space"},Or={name:"handle"},Rr={name:"center"},Fr={name:"x",handles:["e","w"].map(Xr),input:function(t,e){return t&&[[t[0],e[0][1]],[t[1],e[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},Ir={name:"y",handles:["n","s"].map(Xr),input:function(t,e){return t&&[[e[0][0],t[0]],[e[1][0],t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},jr={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Hr={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},Wr={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},qr={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},Zr={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function Xr(t){return{type:t}}function Br(){return!ce.button}function Vr(){var t=this.ownerSVGElement||this;return[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}function Gr(t){for(;!t.__brush;)if(!(t=t.parentNode))return;return t.__brush}function Jr(t){return t[0][0]===t[1][0]||t[0][1]===t[1][1]}function Qr(){return function(t){var e,n=Vr,r=Br,a=At(c,"start","brush","end"),i=6;function c(e){var n=e.property("__brush",l).selectAll(".overlay").data([Xr("overlay")]);n.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",jr.overlay).merge(n).each(function(){var t=Gr(this).extent;pe(this).attr("x",t[0][0]).attr("y",t[0][1]).attr("width",t[1][0]-t[0][0]).attr("height",t[1][1]-t[0][1])}),e.selectAll(".selection").data([Xr("selection")]).enter().append("rect").attr("class","selection").attr("cursor",jr.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var r=e.selectAll(".handle").data(t.handles,function(t){return t.type});r.exit().remove(),r.enter().append("rect").attr("class",function(t){return"handle handle--"+t.type}).attr("cursor",function(t){return jr[t.type]}),e.each(o).attr("fill","none").attr("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush touchstart.brush",u)}function o(){var t=pe(this),e=Gr(this).selection;e?(t.selectAll(".selection").style("display",null).attr("x",e[0][0]).attr("y",e[0][1]).attr("width",e[1][0]-e[0][0]).attr("height",e[1][1]-e[0][1]),t.selectAll(".handle").style("display",null).attr("x",function(t){return"e"===t.type[t.type.length-1]?e[1][0]-i/2:e[0][0]-i/2}).attr("y",function(t){return"s"===t.type[0]?e[1][1]-i/2:e[0][1]-i/2}).attr("width",function(t){return"n"===t.type||"s"===t.type?e[1][0]-e[0][0]+i:i}).attr("height",function(t){return"e"===t.type||"w"===t.type?e[1][1]-e[0][1]+i:i})):t.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function f(t,e){return t.__brush.emitter||new s(t,e)}function s(t,e){this.that=t,this.args=e,this.state=t.__brush,this.active=0}function u(){if(ce.touches){if(ce.changedTouches.length<ce.touches.length)return Ur()}else if(e)return;if(r.apply(this,arguments)){var n,a,i,c,s,u,l,d,h,b,p,g,v,m=this,y=ce.target.__data__.type,_="selection"===(ce.metaKey?y="overlay":y)?Yr:ce.altKey?Rr:Or,w=t===Ir?null:qr[y],x=t===Fr?null:Zr[y],M=Gr(m),k=M.extent,A=M.selection,C=k[0][0],T=k[0][1],$=k[1][0],N=k[1][1],S=w&&x&&ce.shiftKey,D=ve(m),E=D,P=f(m,arguments).beforestart();"overlay"===y?M.selection=A=[[n=t===Ir?C:D[0],i=t===Fr?T:D[1]],[s=t===Ir?$:n,l=t===Fr?N:i]]:(n=A[0][0],i=A[0][1],s=A[1][0],l=A[1][1]),a=n,c=i,u=s,d=l;var L=pe(m).attr("pointer-events","none"),U=L.selectAll(".overlay").attr("cursor",jr[y]);if(ce.touches)L.on("touchmove.brush",z,!0).on("touchend.brush touchcancel.brush",R,!0);else{var Y=pe(ce.view).on("keydown.brush",function(){switch(ce.keyCode){case 16:S=w&&x;break;case 18:_===Or&&(w&&(s=u-h*w,n=a+h*w),x&&(l=d-b*x,i=c+b*x),_=Rr,O());break;case 32:_!==Or&&_!==Rr||(w<0?s=u-h:w>0&&(n=a-h),x<0?l=d-b:x>0&&(i=c-b),_=zr,U.attr("cursor",jr.selection),O());break;default:return}Ur()},!0).on("keyup.brush",function(){switch(ce.keyCode){case 16:S&&(g=v=S=!1,O());break;case 18:_===Rr&&(w<0?s=u:w>0&&(n=a),x<0?l=d:x>0&&(i=c),_=Or,O());break;case 32:_===zr&&(ce.altKey?(w&&(s=u-h*w,n=a+h*w),x&&(l=d-b*x,i=c+b*x),_=Rr):(w<0?s=u:w>0&&(n=a),x<0?l=d:x>0&&(i=c),_=Or),U.attr("cursor",jr[y]),O());break;default:return}Ur()},!0).on("mousemove.brush",z,!0).on("mouseup.brush",R,!0);!function(t){var e=t.document.documentElement,n=pe(t).on("dragstart.drag",me,!0);"onselectstart"in e?n.on("selectstart.drag",me,!0):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}(ce.view)}Lr(),wr(m),o.call(m),P.start()}function z(){var t=ve(m);!S||g||v||(Math.abs(t[0]-E[0])>Math.abs(t[1]-E[1])?v=!0:g=!0),E=t,p=!0,Ur(),O()}function O(){var t;switch(h=E[0]-D[0],b=E[1]-D[1],_){case zr:case Yr:w&&(h=Math.max(C-n,Math.min($-s,h)),a=n+h,u=s+h),x&&(b=Math.max(T-i,Math.min(N-l,b)),c=i+b,d=l+b);break;case Or:w<0?(h=Math.max(C-n,Math.min($-n,h)),a=n+h,u=s):w>0&&(h=Math.max(C-s,Math.min($-s,h)),a=n,u=s+h),x<0?(b=Math.max(T-i,Math.min(N-i,b)),c=i+b,d=l):x>0&&(b=Math.max(T-l,Math.min(N-l,b)),c=i,d=l+b);break;case Rr:w&&(a=Math.max(C,Math.min($,n-h*w)),u=Math.max(C,Math.min($,s+h*w))),x&&(c=Math.max(T,Math.min(N,i-b*x)),d=Math.max(T,Math.min(N,l+b*x)))}u<a&&(w*=-1,t=n,n=s,s=t,t=a,a=u,u=t,y in Hr&&U.attr("cursor",jr[y=Hr[y]])),d<c&&(x*=-1,t=i,i=l,l=t,t=c,c=d,d=t,y in Wr&&U.attr("cursor",jr[y=Wr[y]])),M.selection&&(A=M.selection),g&&(a=A[0][0],u=A[1][0]),v&&(c=A[0][1],d=A[1][1]),A[0][0]===a&&A[0][1]===c&&A[1][0]===u&&A[1][1]===d||(M.selection=[[a,c],[u,d]],o.call(m),P.brush())}function R(){if(Lr(),ce.touches){if(ce.touches.length)return;e&&clearTimeout(e),e=setTimeout(function(){e=null},500),L.on("touchmove.brush touchend.brush touchcancel.brush",null)}else!function(t,e){var n=t.document.documentElement,r=pe(t).on("dragstart.drag",null);e&&(r.on("click.drag",me,!0),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}(ce.view,p),Y.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);L.attr("pointer-events","all"),U.attr("cursor",jr.overlay),M.selection&&(A=M.selection),Jr(A)&&(M.selection=null,o.call(m)),P.end()}}function l(){var e=this.__brush||{selection:null};return e.extent=n.apply(this,arguments),e.dim=t,e}return c.move=function(e,n){e.selection?e.on("start.brush",function(){f(this,arguments).beforestart().start()}).on("interrupt.brush end.brush",function(){f(this,arguments).end()}).tween("brush",function(){var e=this,r=e.__brush,a=f(e,arguments),i=r.selection,c=t.input("function"==typeof n?n.apply(this,arguments):n,r.extent),s=Nn(i,c);function u(t){r.selection=1===t&&Jr(c)?null:s(t),o.call(e),a.brush()}return i&&c?u:u(1)}):e.each(function(){var e=arguments,r=this.__brush,a=t.input("function"==typeof n?n.apply(this,e):n,r.extent),i=f(this,e).beforestart();wr(this),r.selection=null==a||Jr(a)?null:a,o.call(this),i.start().brush().end()})},s.prototype={beforestart:function(){return 1==++this.active&&(this.state.emitter=this,this.starting=!0),this},start:function(){return this.starting&&(this.starting=!1,this.emit("start")),this},brush:function(){return this.emit("brush"),this},end:function(){return 0==--this.active&&(delete this.state.emitter,this.emit("end")),this},emit:function(e){!function(t,e,n,r){var a=ce;t.sourceEvent=ce,ce=t;try{e.apply(n,r)}finally{ce=a}}(new Pr(c,e,t.output(this.state.selection)),a.apply,a,[e,this.that,this.args])}},c.extent=function(t){return arguments.length?(n="function"==typeof t?t:Er([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),c):n},c.filter=function(t){return arguments.length?(r="function"==typeof t?t:Er(!!t),c):r},c.handleSize=function(t){return arguments.length?(i=+t,c):i},c.on=function(){var t=a.on.apply(a,arguments);return t===a?c:t},c}(Fr)}Math.PI;var Kr=Math.PI,ta=2*Kr,ea=ta-1e-6;function na(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function ra(){return new na}na.prototype=ra.prototype={constructor:na,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,r){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(t,e,n,r,a,i){this._+="C"+ +t+","+ +e+","+ +n+","+ +r+","+(this._x1=+a)+","+(this._y1=+i)},arcTo:function(t,e,n,r,a){t=+t,e=+e,n=+n,r=+r,a=+a;var i=this._x1,c=this._y1,o=n-t,f=r-e,s=i-t,u=c-e,l=s*s+u*u;if(a<0)throw new Error("negative radius: "+a);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(l>1e-6)if(Math.abs(u*o-f*s)>1e-6&&a){var d=n-i,h=r-c,b=o*o+f*f,p=d*d+h*h,g=Math.sqrt(b),v=Math.sqrt(l),m=a*Math.tan((Kr-Math.acos((b+l-p)/(2*g*v)))/2),y=m/v,_=m/g;Math.abs(y-1)>1e-6&&(this._+="L"+(t+y*s)+","+(e+y*u)),this._+="A"+a+","+a+",0,0,"+ +(u*d>s*h)+","+(this._x1=t+_*o)+","+(this._y1=e+_*f)}else this._+="L"+(this._x1=t)+","+(this._y1=e);else;},arc:function(t,e,n,r,a,i){t=+t,e=+e;var c=(n=+n)*Math.cos(r),o=n*Math.sin(r),f=t+c,s=e+o,u=1^i,l=i?r-a:a-r;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+f+","+s:(Math.abs(this._x1-f)>1e-6||Math.abs(this._y1-s)>1e-6)&&(this._+="L"+f+","+s),n&&(l<0&&(l=l%ta+ta),l>ea?this._+="A"+n+","+n+",0,1,"+u+","+(t-c)+","+(e-o)+"A"+n+","+n+",0,1,"+u+","+(this._x1=f)+","+(this._y1=s):l>1e-6&&(this._+="A"+n+","+n+",0,"+ +(l>=Kr)+","+u+","+(this._x1=t+n*Math.cos(a))+","+(this._y1=e+n*Math.sin(a))))},rect:function(t,e,n,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}};function aa(){}function ia(t,e){var n=new aa;if(t instanceof aa)t.each(function(t,e){n.set(e,t)});else if(Array.isArray(t)){var r,a=-1,i=t.length;if(null==e)for(;++a<i;)n.set(a,t[a]);else for(;++a<i;)n.set(e(r=t[a],a,t),r)}else if(t)for(var c in t)n.set(c,t[c]);return n}function ca(){var t,e,n,r=[],a=[];function i(n,a,c,o){if(a>=r.length)return null!=t&&n.sort(t),null!=e?e(n):n;for(var f,s,u,l=-1,d=n.length,h=r[a++],b=ia(),p=c();++l<d;)(u=b.get(f=h(s=n[l])+""))?u.push(s):b.set(f,[s]);return b.each(function(t,e){o(p,e,i(t,a,c,o))}),p}return n={object:function(t){return i(t,0,oa,fa)},map:function(t){return i(t,0,sa,ua)},entries:function(t){return function t(n,i){if(++i>r.length)return n;var c,o=a[i-1];return null!=e&&i>=r.length?c=n.entries():(c=[],n.each(function(e,n){c.push({key:n,values:t(e,i)})})),null!=o?c.sort(function(t,e){return o(t.key,e.key)}):c}(i(t,0,sa,ua),0)},key:function(t){return r.push(t),n},sortKeys:function(t){return a[r.length-1]=t,n},sortValues:function(e){return t=e,n},rollup:function(t){return e=t,n}}}function oa(){return{}}function fa(t,e,n){t[e]=n}function sa(){return ia()}function ua(t,e,n){t.set(e,n)}function la(){}aa.prototype=ia.prototype={constructor:aa,has:function(t){return"$"+t in this},get:function(t){return this["$"+t]},set:function(t,e){return this["$"+t]=e,this},remove:function(t){var e="$"+t;return e in this&&delete this[e]},clear:function(){for(var t in this)"$"===t[0]&&delete this[t]},keys:function(){var t=[];for(var e in this)"$"===e[0]&&t.push(e.slice(1));return t},values:function(){var t=[];for(var e in this)"$"===e[0]&&t.push(this[e]);return t},entries:function(){var t=[];for(var e in this)"$"===e[0]&&t.push({key:e.slice(1),value:this[e]});return t},size:function(){var t=0;for(var e in this)"$"===e[0]&&++t;return t},empty:function(){for(var t in this)if("$"===t[0])return!1;return!0},each:function(t){for(var e in this)"$"===e[0]&&t(this[e],e.slice(1),this)}};var da=ia.prototype;la.prototype=function(t,e){var n=new la;if(t instanceof la)t.each(function(t){n.add(t)});else if(t){var r=-1,a=t.length;if(null==e)for(;++r<a;)n.add(t[r]);else for(;++r<a;)n.add(e(t[r],r,t))}return n}.prototype={constructor:la,has:da.has,add:function(t){return this["$"+(t+="")]=t,this},remove:da.remove,clear:da.clear,values:da.keys,size:da.size,empty:da.empty,each:da.each};var ha={},ba={},pa=34,ga=10,va=13;function ma(t){return new Function("d","return {"+t.map(function(t,e){return JSON.stringify(t)+": d["+e+"]"}).join(",")+"}")}function ya(t){var e=Object.create(null),n=[];return t.forEach(function(t){for(var r in t)r in e||n.push(e[r]=r)}),n}function _a(t,e){var n=t+"",r=n.length;return r<e?new Array(e-r+1).join(0)+n:n}function wa(t){var e,n=t.getUTCHours(),r=t.getUTCMinutes(),a=t.getUTCSeconds(),i=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":((e=t.getUTCFullYear())<0?"-"+_a(-e,6):e>9999?"+"+_a(e,6):_a(e,4))+"-"+_a(t.getUTCMonth()+1,2)+"-"+_a(t.getUTCDate(),2)+(i?"T"+_a(n,2)+":"+_a(r,2)+":"+_a(a,2)+"."+_a(i,3)+"Z":a?"T"+_a(n,2)+":"+_a(r,2)+":"+_a(a,2)+"Z":r||n?"T"+_a(n,2)+":"+_a(r,2)+"Z":"")}function xa(t){var e=new RegExp('["'+t+"\n\r]"),n=t.charCodeAt(0);function r(t,e){var r,a=[],i=t.length,c=0,o=0,f=i<=0,s=!1;function u(){if(f)return ba;if(s)return s=!1,ha;var e,r,a=c;if(t.charCodeAt(a)===pa){for(;c++<i&&t.charCodeAt(c)!==pa||t.charCodeAt(++c)===pa;);return(e=c)>=i?f=!0:(r=t.charCodeAt(c++))===ga?s=!0:r===va&&(s=!0,t.charCodeAt(c)===ga&&++c),t.slice(a+1,e-1).replace(/""/g,'"')}for(;c<i;){if((r=t.charCodeAt(e=c++))===ga)s=!0;else if(r===va)s=!0,t.charCodeAt(c)===ga&&++c;else if(r!==n)continue;return t.slice(a,e)}return f=!0,t.slice(a,i)}for(t.charCodeAt(i-1)===ga&&--i,t.charCodeAt(i-1)===va&&--i;(r=u())!==ba;){for(var l=[];r!==ha&&r!==ba;)l.push(r),r=u();e&&null==(l=e(l,o++))||a.push(l)}return a}function a(e,n){return e.map(function(e){return n.map(function(t){return c(e[t])}).join(t)})}function i(e){return e.map(c).join(t)}function c(t){return null==t?"":t instanceof Date?wa(t):e.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}return{parse:function(t,e){var n,a,i=r(t,function(t,r){if(n)return n(t,r-1);a=t,n=e?function(t,e){var n=ma(t);return function(r,a){return e(n(r),a,t)}}(t,e):ma(t)});return i.columns=a||[],i},parseRows:r,format:function(e,n){return null==n&&(n=ya(e)),[n.map(c).join(t)].concat(a(e,n)).join("\n")},formatBody:function(t,e){return null==e&&(e=ya(t)),a(t,e).join("\n")},formatRows:function(t){return t.map(i).join("\n")}}}var Ma=xa(",").parse;xa("\t");function ka(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}var Aa,Ca=(Aa=Ma,function(t,e,n){return 2===arguments.length&&"function"==typeof e&&(n=e,e=void 0),function(t,e){return fetch(t,e).then(ka)}(t,e).then(function(t){return Aa(t,n)})});function Ta(t,e,n,r){if(isNaN(e)||isNaN(n))return t;var a,i,c,o,f,s,u,l,d,h=t._root,b={data:r},p=t._x0,g=t._y0,v=t._x1,m=t._y1;if(!h)return t._root=b,t;for(;h.length;)if((s=e>=(i=(p+v)/2))?p=i:v=i,(u=n>=(c=(g+m)/2))?g=c:m=c,a=h,!(h=h[l=u<<1|s]))return a[l]=b,t;if(o=+t._x.call(null,h.data),f=+t._y.call(null,h.data),e===o&&n===f)return b.next=h,a?a[l]=b:t._root=b,t;do{a=a?a[l]=new Array(4):t._root=new Array(4),(s=e>=(i=(p+v)/2))?p=i:v=i,(u=n>=(c=(g+m)/2))?g=c:m=c}while((l=u<<1|s)==(d=(f>=c)<<1|o>=i));return a[d]=h,a[l]=b,t}function $a(t,e,n,r,a){this.node=t,this.x0=e,this.y0=n,this.x1=r,this.y1=a}function Na(t){return t[0]}function Sa(t){return t[1]}function Da(t,e,n,r,a,i){this._x=t,this._y=e,this._x0=n,this._y0=r,this._x1=a,this._y1=i,this._root=void 0}function Ea(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}var Pa=function(t,e,n){var r=new Da(null==e?Na:e,null==n?Sa:n,NaN,NaN,NaN,NaN);return null==t?r:r.addAll(t)}.prototype=Da.prototype;Pa.copy=function(){var t,e,n=new Da(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return n;if(!r.length)return n._root=Ea(r),n;for(t=[{source:r,target:n._root=new Array(4)}];r=t.pop();)for(var a=0;a<4;++a)(e=r.source[a])&&(e.length?t.push({source:e,target:r.target[a]=new Array(4)}):r.target[a]=Ea(e));return n},Pa.add=function(t){var e=+this._x.call(null,t),n=+this._y.call(null,t);return Ta(this.cover(e,n),e,n,t)},Pa.addAll=function(t){var e,n,r,a,i=t.length,c=new Array(i),o=new Array(i),f=1/0,s=1/0,u=-1/0,l=-1/0;for(n=0;n<i;++n)isNaN(r=+this._x.call(null,e=t[n]))||isNaN(a=+this._y.call(null,e))||(c[n]=r,o[n]=a,r<f&&(f=r),r>u&&(u=r),a<s&&(s=a),a>l&&(l=a));if(f>u||s>l)return this;for(this.cover(f,s).cover(u,l),n=0;n<i;++n)Ta(this,c[n],o[n],t[n]);return this},Pa.cover=function(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,r=this._y0,a=this._x1,i=this._y1;if(isNaN(n))a=(n=Math.floor(t))+1,i=(r=Math.floor(e))+1;else{for(var c,o,f=a-n,s=this._root;n>t||t>=a||r>e||e>=i;)switch(o=(e<r)<<1|t<n,(c=new Array(4))[o]=s,s=c,f*=2,o){case 0:a=n+f,i=r+f;break;case 1:n=a-f,i=r+f;break;case 2:a=n+f,r=i-f;break;case 3:n=a-f,r=i-f}this._root&&this._root.length&&(this._root=s)}return this._x0=n,this._y0=r,this._x1=a,this._y1=i,this},Pa.data=function(){var t=[];return this.visit(function(e){if(!e.length)do{t.push(e.data)}while(e=e.next)}),t},Pa.extent=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},Pa.find=function(t,e,n){var r,a,i,c,o,f,s,u=this._x0,l=this._y0,d=this._x1,h=this._y1,b=[],p=this._root;for(p&&b.push(new $a(p,u,l,d,h)),null==n?n=1/0:(u=t-n,l=e-n,d=t+n,h=e+n,n*=n);f=b.pop();)if(!(!(p=f.node)||(a=f.x0)>d||(i=f.y0)>h||(c=f.x1)<u||(o=f.y1)<l))if(p.length){var g=(a+c)/2,v=(i+o)/2;b.push(new $a(p[3],g,v,c,o),new $a(p[2],a,v,g,o),new $a(p[1],g,i,c,v),new $a(p[0],a,i,g,v)),(s=(e>=v)<<1|t>=g)&&(f=b[b.length-1],b[b.length-1]=b[b.length-1-s],b[b.length-1-s]=f)}else{var m=t-+this._x.call(null,p.data),y=e-+this._y.call(null,p.data),_=m*m+y*y;if(_<n){var w=Math.sqrt(n=_);u=t-w,l=e-w,d=t+w,h=e+w,r=p.data}}return r},Pa.remove=function(t){if(isNaN(i=+this._x.call(null,t))||isNaN(c=+this._y.call(null,t)))return this;var e,n,r,a,i,c,o,f,s,u,l,d,h=this._root,b=this._x0,p=this._y0,g=this._x1,v=this._y1;if(!h)return this;if(h.length)for(;;){if((s=i>=(o=(b+g)/2))?b=o:g=o,(u=c>=(f=(p+v)/2))?p=f:v=f,e=h,!(h=h[l=u<<1|s]))return this;if(!h.length)break;(e[l+1&3]||e[l+2&3]||e[l+3&3])&&(n=e,d=l)}for(;h.data!==t;)if(r=h,!(h=h.next))return this;return(a=h.next)&&delete h.next,r?(a?r.next=a:delete r.next,this):e?(a?e[l]=a:delete e[l],(h=e[0]||e[1]||e[2]||e[3])&&h===(e[3]||e[2]||e[1]||e[0])&&!h.length&&(n?n[d]=h:this._root=h),this):(this._root=a,this)},Pa.removeAll=function(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this},Pa.root=function(){return this._root},Pa.size=function(){var t=0;return this.visit(function(e){if(!e.length)do{++t}while(e=e.next)}),t},Pa.visit=function(t){var e,n,r,a,i,c,o=[],f=this._root;for(f&&o.push(new $a(f,this._x0,this._y0,this._x1,this._y1));e=o.pop();)if(!t(f=e.node,r=e.x0,a=e.y0,i=e.x1,c=e.y1)&&f.length){var s=(r+i)/2,u=(a+c)/2;(n=f[3])&&o.push(new $a(n,s,u,i,c)),(n=f[2])&&o.push(new $a(n,r,u,s,c)),(n=f[1])&&o.push(new $a(n,s,a,i,u)),(n=f[0])&&o.push(new $a(n,r,a,s,u))}return this},Pa.visitAfter=function(t){var e,n=[],r=[];for(this._root&&n.push(new $a(this._root,this._x0,this._y0,this._x1,this._y1));e=n.pop();){var a=e.node;if(a.length){var i,c=e.x0,o=e.y0,f=e.x1,s=e.y1,u=(c+f)/2,l=(o+s)/2;(i=a[0])&&n.push(new $a(i,c,o,u,l)),(i=a[1])&&n.push(new $a(i,u,o,f,l)),(i=a[2])&&n.push(new $a(i,c,l,u,s)),(i=a[3])&&n.push(new $a(i,u,l,f,s))}r.push(e)}for(;e=r.pop();)t(e.node,e.x0,e.y0,e.x1,e.y1);return this},Pa.x=function(t){return arguments.length?(this._x=t,this):this._x},Pa.y=function(t){return arguments.length?(this._y=t,this):this._y};Math.PI,Math.sqrt(5);function La(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Ua(t){return(t=La(Math.abs(t)))?t[1]:NaN}var Ya,za=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Oa(t){return new Ra(t)}function Ra(t){if(!(e=za.exec(t)))throw new Error("invalid format: "+t);var e;this.fill=e[1]||" ",this.align=e[2]||">",this.sign=e[3]||"-",this.symbol=e[4]||"",this.zero=!!e[5],this.width=e[6]&&+e[6],this.comma=!!e[7],this.precision=e[8]&&+e[8].slice(1),this.trim=!!e[9],this.type=e[10]||""}function Fa(t,e){var n=La(t,e);if(!n)return t+"";var r=n[0],a=n[1];return a<0?"0."+new Array(-a).join("0")+r:r.length>a+1?r.slice(0,a+1)+"."+r.slice(a+1):r+new Array(a-r.length+2).join("0")}Oa.prototype=Ra.prototype,Ra.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var Ia={"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return Fa(100*t,e)},r:Fa,s:function(t,e){var n=La(t,e);if(!n)return t+"";var r=n[0],a=n[1],i=a-(Ya=3*Math.max(-8,Math.min(8,Math.floor(a/3))))+1,c=r.length;return i===c?r:i>c?r+new Array(i-c+1).join("0"):i>0?r.slice(0,i)+"."+r.slice(i):"0."+new Array(1-i).join("0")+La(t,Math.max(0,e+i-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}};function ja(t){return t}var Ha,Wa,qa,Za=["y","z","a","f","p","n","Âµ","m","","k","M","G","T","P","E","Z","Y"];function Xa(t){var e,n,r=t.grouping&&t.thousands?(e=t.grouping,n=t.thousands,function(t,r){for(var a=t.length,i=[],c=0,o=e[0],f=0;a>0&&o>0&&(f+o+1>r&&(o=Math.max(1,r-f)),i.push(t.substring(a-=o,a+o)),!((f+=o+1)>r));)o=e[c=(c+1)%e.length];return i.reverse().join(n)}):ja,a=t.currency,i=t.decimal,c=t.numerals?function(t){return function(e){return e.replace(/[0-9]/g,function(e){return t[+e]})}}(t.numerals):ja,o=t.percent||"%";function f(t){var e=(t=Oa(t)).fill,n=t.align,f=t.sign,s=t.symbol,u=t.zero,l=t.width,d=t.comma,h=t.precision,b=t.trim,p=t.type;"n"===p?(d=!0,p="g"):Ia[p]||(null==h&&(h=12),b=!0,p="g"),(u||"0"===e&&"="===n)&&(u=!0,e="0",n="=");var g="$"===s?a[0]:"#"===s&&/[boxX]/.test(p)?"0"+p.toLowerCase():"",v="$"===s?a[1]:/[%p]/.test(p)?o:"",m=Ia[p],y=/[defgprs%]/.test(p);function _(t){var a,o,s,_=g,w=v;if("c"===p)w=m(t)+w,t="";else{var x=(t=+t)<0;if(t=m(Math.abs(t),h),b&&(t=function(t){t:for(var e,n=t.length,r=1,a=-1;r<n;++r)switch(t[r]){case".":a=e=r;break;case"0":0===a&&(a=r),e=r;break;default:if(a>0){if(!+t[r])break t;a=0}}return a>0?t.slice(0,a)+t.slice(e+1):t}(t)),x&&0==+t&&(x=!1),_=(x?"("===f?f:"-":"-"===f||"("===f?"":f)+_,w=("s"===p?Za[8+Ya/3]:"")+w+(x&&"("===f?")":""),y)for(a=-1,o=t.length;++a<o;)if(48>(s=t.charCodeAt(a))||s>57){w=(46===s?i+t.slice(a+1):t.slice(a))+w,t=t.slice(0,a);break}}d&&!u&&(t=r(t,1/0));var M=_.length+t.length+w.length,k=M<l?new Array(l-M+1).join(e):"";switch(d&&u&&(t=r(k+t,k.length?l-w.length:1/0),k=""),n){case"<":t=_+t+w+k;break;case"=":t=_+k+t+w;break;case"^":t=k.slice(0,M=k.length>>1)+_+t+w+k.slice(M);break;default:t=k+_+t+w}return c(t)}return h=null==h?6:/[gprs]/.test(p)?Math.max(1,Math.min(21,h)):Math.max(0,Math.min(20,h)),_.toString=function(){return t+""},_}return{format:f,formatPrefix:function(t,e){var n=f(((t=Oa(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(Ua(e)/3))),a=Math.pow(10,-r),i=Za[8+r/3];return function(t){return n(a*t)+i}}}}function Ba(){return new Va}function Va(){this.reset()}Ha=Xa({decimal:".",thousands:",",grouping:[3],currency:["$",""]}),Wa=Ha.format,qa=Ha.formatPrefix,Va.prototype={constructor:Va,reset:function(){this.s=this.t=0},add:function(t){Ja(Ga,t,this.t),Ja(this,Ga.s,this.s),this.s?this.t+=Ga.t:this.s=Ga.t},valueOf:function(){return this.s}};var Ga=new Va;function Ja(t,e,n){var r=t.s=e+n,a=r-e,i=r-a;t.t=e-i+(n-a)}Math.PI,Ba(),Ba(),Ba(),Ba(),Ba(),Ba(),Ba(),Ba();function Qa(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}var Ka=Array.prototype,ti=Ka.map,ei=Ka.slice;function ni(t){return+t}var ri=[0,1];function ai(t){return t}function ii(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:(n=isNaN(e)?NaN:.5,function(){return n});var n}function ci(t){var e,n=t[0],r=t[t.length-1];return n>r&&(e=n,n=r,r=e),function(t){return Math.max(n,Math.min(r,t))}}function oi(t,e,n){var r=t[0],a=t[1],i=e[0],c=e[1];return a<r?(r=ii(a,r),i=n(c,i)):(r=ii(r,a),i=n(i,c)),function(t){return i(r(t))}}function fi(t,e,n){var r=Math.min(t.length,e.length)-1,a=new Array(r),i=new Array(r),c=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++c<r;)a[c]=ii(t[c],t[c+1]),i[c]=n(e[c],e[c+1]);return function(e){var n=vt(t,e,1,r)-1;return i[n](a[n](e))}}function si(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function ui(t,e){return function(){var t,e,n,r,a,i,c=ri,o=ri,f=Nn,s=ai;function u(){return r=Math.min(c.length,o.length)>2?fi:oi,a=i=null,l}function l(e){return isNaN(e=+e)?n:(a||(a=r(c.map(t),o,f)))(t(s(e)))}return l.invert=function(n){return s(e((i||(i=r(o,c.map(t),An)))(n)))},l.domain=function(t){return arguments.length?(c=ti.call(t,ni),s===ai||(s=ci(c)),u()):c.slice()},l.range=function(t){return arguments.length?(o=ei.call(t),u()):o.slice()},l.rangeRound=function(t){return o=ei.call(t),f=Sn,u()},l.clamp=function(t){return arguments.length?(s=t?ci(c):ai,l):s!==ai},l.interpolate=function(t){return arguments.length?(f=t,u()):f},l.unknown=function(t){return arguments.length?(n=t,l):n},function(n,r){return t=n,e=r,u()}}()(t,e)}function li(t,e,n,r){var a,i=xt(t,e,n);switch((r=Oa(null==r?",f":r)).type){case"s":var c=Math.max(Math.abs(t),Math.abs(e));return null!=r.precision||isNaN(a=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Ua(e)/3)))-Ua(Math.abs(t)))}(i,c))||(r.precision=a),qa(r,c);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(a=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Ua(e)-Ua(t))+1}(i,Math.max(Math.abs(t),Math.abs(e))))||(r.precision=a-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(a=function(t){return Math.max(0,-Ua(Math.abs(t)))}(i))||(r.precision=a-2*("%"===r.type))}return Wa(r)}function di(t){var e=t.domain;return t.ticks=function(t){var n=e();return function(t,e,n){var r,a,i,c,o=-1;if(n=+n,(t=+t)==(e=+e)&&n>0)return[t];if((r=e<t)&&(a=t,t=e,e=a),0===(c=wt(t,e,n))||!isFinite(c))return[];if(c>0)for(t=Math.ceil(t/c),e=Math.floor(e/c),i=new Array(a=Math.ceil(e-t+1));++o<a;)i[o]=(t+o)*c;else for(t=Math.floor(t*c),e=Math.ceil(e*c),i=new Array(a=Math.ceil(t-e+1));++o<a;)i[o]=(t-o)/c;return r&&i.reverse(),i}(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){var r=e();return li(r[0],r[r.length-1],null==t?10:t,n)},t.nice=function(n){null==n&&(n=10);var r,a=e(),i=0,c=a.length-1,o=a[i],f=a[c];return f<o&&(r=o,o=f,f=r,r=i,i=c,c=r),(r=wt(o,f,n))>0?r=wt(o=Math.floor(o/r)*r,f=Math.ceil(f/r)*r,n):r<0&&(r=wt(o=Math.ceil(o*r)/r,f=Math.floor(f*r)/r,n)),r>0?(a[i]=Math.floor(o/r)*r,a[c]=Math.ceil(f/r)*r,e(a)):r<0&&(a[i]=Math.ceil(o*r)/r,a[c]=Math.floor(f*r)/r,e(a)),t},t}function hi(){var t=ui(ai,ai);return t.copy=function(){return si(t,hi())},Qa.apply(t,arguments),di(t)}var bi=new Date,pi=new Date;function gi(t,e,n,r){function a(e){return t(e=new Date(+e)),e}return a.floor=a,a.ceil=function(n){return t(n=new Date(n-1)),e(n,1),t(n),n},a.round=function(t){var e=a(t),n=a.ceil(t);return t-e<n-t?e:n},a.offset=function(t,n){return e(t=new Date(+t),null==n?1:Math.floor(n)),t},a.range=function(n,r,i){var c,o=[];if(n=a.ceil(n),i=null==i?1:Math.floor(i),!(n<r&&i>0))return o;do{o.push(c=new Date(+n)),e(n,i),t(n)}while(c<n&&n<r);return o},a.filter=function(n){return gi(function(e){if(e>=e)for(;t(e),!n(e);)e.setTime(e-1)},function(t,r){if(t>=t)if(r<0)for(;++r<=0;)for(;e(t,-1),!n(t););else for(;--r>=0;)for(;e(t,1),!n(t););})},n&&(a.count=function(e,r){return bi.setTime(+e),pi.setTime(+r),t(bi),t(pi),Math.floor(n(bi,pi))},a.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?a.filter(r?function(e){return r(e)%t==0}:function(e){return a.count(0,e)%t==0}):a:null}),a}var vi=gi(function(){},function(t,e){t.setTime(+t+e)},function(t,e){return e-t});vi.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?gi(function(e){e.setTime(Math.floor(e/t)*t)},function(e,n){e.setTime(+e+n*t)},function(e,n){return(n-e)/t}):vi:null};var mi=6e4,yi=6048e5,_i=gi(function(t){t.setTime(t-t.getMilliseconds())},function(t,e){t.setTime(+t+1e3*e)},function(t,e){return(e-t)/1e3},function(t){return t.getUTCSeconds()}),wi=gi(function(t){t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds())},function(t,e){t.setTime(+t+e*mi)},function(t,e){return(e-t)/mi},function(t){return t.getMinutes()}),xi=gi(function(t){t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds()-t.getMinutes()*mi)},function(t,e){t.setTime(+t+36e5*e)},function(t,e){return(e-t)/36e5},function(t){return t.getHours()}),Mi=gi(function(t){t.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*mi)/864e5},function(t){return t.getDate()-1});function ki(t){return gi(function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+7*e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*mi)/yi})}var Ai=ki(0),Ci=ki(1),Ti=(ki(2),ki(3),ki(4)),$i=(ki(5),ki(6),gi(function(t){t.setDate(1),t.setHours(0,0,0,0)},function(t,e){t.setMonth(t.getMonth()+e)},function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())},function(t){return t.getMonth()})),Ni=gi(function(t){t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t,e){return e.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()});Ni.every=function(t){return isFinite(t=Math.floor(t))&&t>0?gi(function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,n){e.setFullYear(e.getFullYear()+n*t)}):null};gi(function(t){t.setUTCSeconds(0,0)},function(t,e){t.setTime(+t+e*mi)},function(t,e){return(e-t)/mi},function(t){return t.getUTCMinutes()}),gi(function(t){t.setUTCMinutes(0,0,0)},function(t,e){t.setTime(+t+36e5*e)},function(t,e){return(e-t)/36e5},function(t){return t.getUTCHours()});var Si=gi(function(t){t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+e)},function(t,e){return(e-t)/864e5},function(t){return t.getUTCDate()-1});function Di(t){return gi(function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+7*e)},function(t,e){return(e-t)/yi})}var Ei=Di(0),Pi=Di(1),Li=(Di(2),Di(3),Di(4)),Ui=(Di(5),Di(6),gi(function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCMonth(t.getUTCMonth()+e)},function(t,e){return e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())},function(t){return t.getUTCMonth()}),gi(function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)},function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()}));function Yi(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function zi(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Oi(t){return{y:t,m:0,d:1,H:0,M:0,S:0,L:0}}Ui.every=function(t){return isFinite(t=Math.floor(t))&&t>0?gi(function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)}):null};var Ri,Fi,Ii,ji,Hi={"-":"",_:" ",0:"0"},Wi=/^\s*\d+/,qi=/^%/,Zi=/[\\^$*+?|[\]().{}]/g;function Xi(t,e,n){var r=t<0?"-":"",a=(r?-t:t)+"",i=a.length;return r+(i<n?new Array(n-i+1).join(e)+a:a)}function Bi(t){return t.replace(Zi,"\\$&")}function Vi(t){return new RegExp("^(?:"+t.map(Bi).join("|")+")","i")}function Gi(t){for(var e={},n=-1,r=t.length;++n<r;)e[t[n].toLowerCase()]=n;return e}function Ji(t,e,n){var r=Wi.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Qi(t,e,n){var r=Wi.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function Ki(t,e,n){var r=Wi.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function tc(t,e,n){var r=Wi.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function ec(t,e,n){var r=Wi.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function nc(t,e,n){var r=Wi.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function rc(t,e,n){var r=Wi.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function ac(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function ic(t,e,n){var r=Wi.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function cc(t,e,n){var r=Wi.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function oc(t,e,n){var r=Wi.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function fc(t,e,n){var r=Wi.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function sc(t,e,n){var r=Wi.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function uc(t,e,n){var r=Wi.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function lc(t,e,n){var r=Wi.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function dc(t,e,n){var r=Wi.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function hc(t,e,n){var r=qi.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function bc(t,e,n){var r=Wi.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function pc(t,e,n){var r=Wi.exec(e.slice(n));return r?(t.Q=1e3*+r[0],n+r[0].length):-1}function gc(t,e){return Xi(t.getDate(),e,2)}function vc(t,e){return Xi(t.getHours(),e,2)}function mc(t,e){return Xi(t.getHours()%12||12,e,2)}function yc(t,e){return Xi(1+Mi.count(Ni(t),t),e,3)}function _c(t,e){return Xi(t.getMilliseconds(),e,3)}function wc(t,e){return _c(t,e)+"000"}function xc(t,e){return Xi(t.getMonth()+1,e,2)}function Mc(t,e){return Xi(t.getMinutes(),e,2)}function kc(t,e){return Xi(t.getSeconds(),e,2)}function Ac(t){var e=t.getDay();return 0===e?7:e}function Cc(t,e){return Xi(Ai.count(Ni(t),t),e,2)}function Tc(t,e){var n=t.getDay();return t=n>=4||0===n?Ti(t):Ti.ceil(t),Xi(Ti.count(Ni(t),t)+(4===Ni(t).getDay()),e,2)}function $c(t){return t.getDay()}function Nc(t,e){return Xi(Ci.count(Ni(t),t),e,2)}function Sc(t,e){return Xi(t.getFullYear()%100,e,2)}function Dc(t,e){return Xi(t.getFullYear()%1e4,e,4)}function Ec(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Xi(e/60|0,"0",2)+Xi(e%60,"0",2)}function Pc(t,e){return Xi(t.getUTCDate(),e,2)}function Lc(t,e){return Xi(t.getUTCHours(),e,2)}function Uc(t,e){return Xi(t.getUTCHours()%12||12,e,2)}function Yc(t,e){return Xi(1+Si.count(Ui(t),t),e,3)}function zc(t,e){return Xi(t.getUTCMilliseconds(),e,3)}function Oc(t,e){return zc(t,e)+"000"}function Rc(t,e){return Xi(t.getUTCMonth()+1,e,2)}function Fc(t,e){return Xi(t.getUTCMinutes(),e,2)}function Ic(t,e){return Xi(t.getUTCSeconds(),e,2)}function jc(t){var e=t.getUTCDay();return 0===e?7:e}function Hc(t,e){return Xi(Ei.count(Ui(t),t),e,2)}function Wc(t,e){var n=t.getUTCDay();return t=n>=4||0===n?Li(t):Li.ceil(t),Xi(Li.count(Ui(t),t)+(4===Ui(t).getUTCDay()),e,2)}function qc(t){return t.getUTCDay()}function Zc(t,e){return Xi(Pi.count(Ui(t),t),e,2)}function Xc(t,e){return Xi(t.getUTCFullYear()%100,e,2)}function Bc(t,e){return Xi(t.getUTCFullYear()%1e4,e,4)}function Vc(){return"+0000"}function Gc(){return"%"}function Jc(t){return+t}function Qc(t){return Math.floor(+t/1e3)}!function(t){Ri=function(t){var e=t.dateTime,n=t.date,r=t.time,a=t.periods,i=t.days,c=t.shortDays,o=t.months,f=t.shortMonths,s=Vi(a),u=Gi(a),l=Vi(i),d=Gi(i),h=Vi(c),b=Gi(c),p=Vi(o),g=Gi(o),v=Vi(f),m=Gi(f),y={a:function(t){return c[t.getDay()]},A:function(t){return i[t.getDay()]},b:function(t){return f[t.getMonth()]},B:function(t){return o[t.getMonth()]},c:null,d:gc,e:gc,f:wc,H:vc,I:mc,j:yc,L:_c,m:xc,M:Mc,p:function(t){return a[+(t.getHours()>=12)]},Q:Jc,s:Qc,S:kc,u:Ac,U:Cc,V:Tc,w:$c,W:Nc,x:null,X:null,y:Sc,Y:Dc,Z:Ec,"%":Gc},_={a:function(t){return c[t.getUTCDay()]},A:function(t){return i[t.getUTCDay()]},b:function(t){return f[t.getUTCMonth()]},B:function(t){return o[t.getUTCMonth()]},c:null,d:Pc,e:Pc,f:Oc,H:Lc,I:Uc,j:Yc,L:zc,m:Rc,M:Fc,p:function(t){return a[+(t.getUTCHours()>=12)]},Q:Jc,s:Qc,S:Ic,u:jc,U:Hc,V:Wc,w:qc,W:Zc,x:null,X:null,y:Xc,Y:Bc,Z:Vc,"%":Gc},w={a:function(t,e,n){var r=h.exec(e.slice(n));return r?(t.w=b[r[0].toLowerCase()],n+r[0].length):-1},A:function(t,e,n){var r=l.exec(e.slice(n));return r?(t.w=d[r[0].toLowerCase()],n+r[0].length):-1},b:function(t,e,n){var r=v.exec(e.slice(n));return r?(t.m=m[r[0].toLowerCase()],n+r[0].length):-1},B:function(t,e,n){var r=p.exec(e.slice(n));return r?(t.m=g[r[0].toLowerCase()],n+r[0].length):-1},c:function(t,n,r){return k(t,e,n,r)},d:cc,e:cc,f:dc,H:fc,I:fc,j:oc,L:lc,m:ic,M:sc,p:function(t,e,n){var r=s.exec(e.slice(n));return r?(t.p=u[r[0].toLowerCase()],n+r[0].length):-1},Q:bc,s:pc,S:uc,u:Qi,U:Ki,V:tc,w:Ji,W:ec,x:function(t,e,r){return k(t,n,e,r)},X:function(t,e,n){return k(t,r,e,n)},y:rc,Y:nc,Z:ac,"%":hc};function x(t,e){return function(n){var r,a,i,c=[],o=-1,f=0,s=t.length;for(n instanceof Date||(n=new Date(+n));++o<s;)37===t.charCodeAt(o)&&(c.push(t.slice(f,o)),null!=(a=Hi[r=t.charAt(++o)])?r=t.charAt(++o):a="e"===r?" ":"0",(i=e[r])&&(r=i(n,a)),c.push(r),f=o+1);return c.push(t.slice(f,o)),c.join("")}}function M(t,e){return function(n){var r,a,i=Oi(1900);if(k(i,t,n+="",0)!=n.length)return null;if("Q"in i)return new Date(i.Q);if("p"in i&&(i.H=i.H%12+12*i.p),"V"in i){if(i.V<1||i.V>53)return null;"w"in i||(i.w=1),"Z"in i?(a=(r=zi(Oi(i.y))).getUTCDay(),r=a>4||0===a?Pi.ceil(r):Pi(r),r=Si.offset(r,7*(i.V-1)),i.y=r.getUTCFullYear(),i.m=r.getUTCMonth(),i.d=r.getUTCDate()+(i.w+6)%7):(a=(r=e(Oi(i.y))).getDay(),r=a>4||0===a?Ci.ceil(r):Ci(r),r=Mi.offset(r,7*(i.V-1)),i.y=r.getFullYear(),i.m=r.getMonth(),i.d=r.getDate()+(i.w+6)%7)}else("W"in i||"U"in i)&&("w"in i||(i.w="u"in i?i.u%7:"W"in i?1:0),a="Z"in i?zi(Oi(i.y)).getUTCDay():e(Oi(i.y)).getDay(),i.m=0,i.d="W"in i?(i.w+6)%7+7*i.W-(a+5)%7:i.w+7*i.U-(a+6)%7);return"Z"in i?(i.H+=i.Z/100|0,i.M+=i.Z%100,zi(i)):e(i)}}function k(t,e,n,r){for(var a,i,c=0,o=e.length,f=n.length;c<o;){if(r>=f)return-1;if(37===(a=e.charCodeAt(c++))){if(a=e.charAt(c++),!(i=w[a in Hi?e.charAt(c++):a])||(r=i(t,n,r))<0)return-1}else if(a!=n.charCodeAt(r++))return-1}return r}return y.x=x(n,y),y.X=x(r,y),y.c=x(e,y),_.x=x(n,_),_.X=x(r,_),_.c=x(e,_),{format:function(t){var e=x(t+="",y);return e.toString=function(){return t},e},parse:function(t){var e=M(t+="",Yi);return e.toString=function(){return t},e},utcFormat:function(t){var e=x(t+="",_);return e.toString=function(){return t},e},utcParse:function(t){var e=M(t,zi);return e.toString=function(){return t},e}}}(t),Fi=Ri.format,Ri.parse,Ii=Ri.utcFormat,ji=Ri.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});Date.prototype.toISOString||Ii("%Y-%m-%dT%H:%M:%S.%LZ");+new Date("2000-01-01T00:00:00.000Z")||ji("%Y-%m-%dT%H:%M:%S.%LZ");var Kc=1e3,to=60*Kc,eo=60*to,no=24*eo,ro=7*no,ao=30*no,io=365*no;function co(t){return new Date(t)}function oo(t){return t instanceof Date?+t:+new Date(+t)}function fo(){return Qa.apply(function t(e,n,r,a,i,c,o,f,s){var u=ui(ai,ai),l=u.invert,d=u.domain,h=s(".%L"),b=s(":%S"),p=s("%I:%M"),g=s("%I %p"),v=s("%a %d"),m=s("%b %d"),y=s("%B"),_=s("%Y"),w=[[o,1,Kc],[o,5,5*Kc],[o,15,15*Kc],[o,30,30*Kc],[c,1,to],[c,5,5*to],[c,15,15*to],[c,30,30*to],[i,1,eo],[i,3,3*eo],[i,6,6*eo],[i,12,12*eo],[a,1,no],[a,2,2*no],[r,1,ro],[n,1,ao],[n,3,3*ao],[e,1,io]];function x(t){return(o(t)<t?h:c(t)<t?b:i(t)<t?p:a(t)<t?g:n(t)<t?r(t)<t?v:m:e(t)<t?y:_)(t)}function M(t,n,r,a){if(null==t&&(t=10),"number"==typeof t){var i=Math.abs(r-n)/t,c=gt(function(t){return t[2]}).right(w,i);c===w.length?(a=xt(n/io,r/io,t),t=e):c?(a=(c=w[i/w[c-1][2]<w[c][2]/i?c-1:c])[1],t=c[0]):(a=Math.max(xt(n,r,t),1),t=f)}return null==a?t:t.every(a)}return u.invert=function(t){return new Date(l(t))},u.domain=function(t){return arguments.length?d(ti.call(t,oo)):d().map(co)},u.ticks=function(t,e){var n,r=d(),a=r[0],i=r[r.length-1],c=i<a;return c&&(n=a,a=i,i=n),n=(n=M(t,a,i,e))?n.range(a,i+1):[],c?n.reverse():n},u.tickFormat=function(t,e){return null==e?x:s(e)},u.nice=function(t,e){var n=d();return(t=M(t,n[0],n[n.length-1],e))?d(function(t,e){var n,r=0,a=(t=t.slice()).length-1,i=t[r],c=t[a];return c<i&&(n=r,r=a,a=n,n=i,i=c,c=n),t[r]=e.floor(i),t[a]=e.ceil(c),t}(n,t)):u},u.copy=function(){return si(u,t(e,n,r,a,i,c,o,f,s))},u}(Ni,$i,Ai,Mi,xi,wi,_i,vi,Fi).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function so(t){for(var e=t.length/6|0,n=new Array(e),r=0;r<e;)n[r]="#"+t.slice(6*r,6*++r);return n}function uo(t){return kn(t[t.length-1])}so("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),so("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),so("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),so("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),so("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),so("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),so("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),so("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),so("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),uo(new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(so)),uo(new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(so)),uo(new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(so)),uo(new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(so)),uo(new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(so)),uo(new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(so)),uo(new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(so)),uo(new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(so)),uo(new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(so)),uo(new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(so)),uo(new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(so)),uo(new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(so)),uo(new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(so)),uo(new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(so)),uo(new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(so)),uo(new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(so)),uo(new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(so)),uo(new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(so)),uo(new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(so)),uo(new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(so)),uo(new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(so)),uo(new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(so)),uo(new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(so)),uo(new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(so)),uo(new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(so)),uo(new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(so)),uo(new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(so)),Wn(gn(300,.5,0),gn(-240,.5,1));Wn(gn(-100,.75,.35),gn(80,1.5,.8)),Wn(gn(260,.75,.35),gn(80,1.5,.8)),gn(),Oe(),Math.PI,Math.PI;function lo(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}lo(so("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));lo(so("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),lo(so("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),lo(so("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function ho(t){return function(){return t}}var bo=Math.abs,po=Math.atan2,go=Math.cos,vo=Math.max,mo=Math.min,yo=Math.sin,_o=Math.sqrt,wo=1e-12,xo=Math.PI,Mo=xo/2,ko=2*xo;function Ao(t){return t>=1?Mo:t<=-1?-Mo:Math.asin(t)}function Co(t){return t.innerRadius}function To(t){return t.outerRadius}function $o(t){return t.startAngle}function No(t){return t.endAngle}function So(t){return t&&t.padAngle}function Do(t,e,n,r,a,i,c){var o=t-n,f=e-r,s=(c?i:-i)/_o(o*o+f*f),u=s*f,l=-s*o,d=t+u,h=e+l,b=n+u,p=r+l,g=(d+b)/2,v=(h+p)/2,m=b-d,y=p-h,_=m*m+y*y,w=a-i,x=d*p-b*h,M=(y<0?-1:1)*_o(vo(0,w*w*_-x*x)),k=(x*y-m*M)/_,A=(-x*m-y*M)/_,C=(x*y+m*M)/_,T=(-x*m+y*M)/_,$=k-g,N=A-v,S=C-g,D=T-v;return $*$+N*N>S*S+D*D&&(k=C,A=T),{cx:k,cy:A,x01:-u,y01:-l,x11:k*(a/w-1),y11:A*(a/w-1)}}function Eo(){var t=Co,e=To,n=ho(0),r=null,a=$o,i=No,c=So,o=null;function f(){var f,s,u,l=+t.apply(this,arguments),d=+e.apply(this,arguments),h=a.apply(this,arguments)-Mo,b=i.apply(this,arguments)-Mo,p=bo(b-h),g=b>h;if(o||(o=f=ra()),d<l&&(s=d,d=l,l=s),d>wo)if(p>ko-wo)o.moveTo(d*go(h),d*yo(h)),o.arc(0,0,d,h,b,!g),l>wo&&(o.moveTo(l*go(b),l*yo(b)),o.arc(0,0,l,b,h,g));else{var v,m,y=h,_=b,w=h,x=b,M=p,k=p,A=c.apply(this,arguments)/2,C=A>wo&&(r?+r.apply(this,arguments):_o(l*l+d*d)),T=mo(bo(d-l)/2,+n.apply(this,arguments)),$=T,N=T;if(C>wo){var S=Ao(C/l*yo(A)),D=Ao(C/d*yo(A));(M-=2*S)>wo?(w+=S*=g?1:-1,x-=S):(M=0,w=x=(h+b)/2),(k-=2*D)>wo?(y+=D*=g?1:-1,_-=D):(k=0,y=_=(h+b)/2)}var E=d*go(y),P=d*yo(y),L=l*go(x),U=l*yo(x);if(T>wo){var Y,z=d*go(_),O=d*yo(_),R=l*go(w),F=l*yo(w);if(p<xo&&(Y=function(t,e,n,r,a,i,c,o){var f=n-t,s=r-e,u=c-a,l=o-i,d=l*f-u*s;if(!(d*d<wo))return[t+(d=(u*(e-i)-l*(t-a))/d)*f,e+d*s]}(E,P,R,F,z,O,L,U))){var I=E-Y[0],j=P-Y[1],H=z-Y[0],W=O-Y[1],q=1/yo(((u=(I*H+j*W)/(_o(I*I+j*j)*_o(H*H+W*W)))>1?0:u<-1?xo:Math.acos(u))/2),Z=_o(Y[0]*Y[0]+Y[1]*Y[1]);$=mo(T,(l-Z)/(q-1)),N=mo(T,(d-Z)/(q+1))}}k>wo?N>wo?(v=Do(R,F,E,P,d,N,g),m=Do(z,O,L,U,d,N,g),o.moveTo(v.cx+v.x01,v.cy+v.y01),N<T?o.arc(v.cx,v.cy,N,po(v.y01,v.x01),po(m.y01,m.x01),!g):(o.arc(v.cx,v.cy,N,po(v.y01,v.x01),po(v.y11,v.x11),!g),o.arc(0,0,d,po(v.cy+v.y11,v.cx+v.x11),po(m.cy+m.y11,m.cx+m.x11),!g),o.arc(m.cx,m.cy,N,po(m.y11,m.x11),po(m.y01,m.x01),!g))):(o.moveTo(E,P),o.arc(0,0,d,y,_,!g)):o.moveTo(E,P),l>wo&&M>wo?$>wo?(v=Do(L,U,z,O,l,-$,g),m=Do(E,P,R,F,l,-$,g),o.lineTo(v.cx+v.x01,v.cy+v.y01),$<T?o.arc(v.cx,v.cy,$,po(v.y01,v.x01),po(m.y01,m.x01),!g):(o.arc(v.cx,v.cy,$,po(v.y01,v.x01),po(v.y11,v.x11),!g),o.arc(0,0,l,po(v.cy+v.y11,v.cx+v.x11),po(m.cy+m.y11,m.cx+m.x11),g),o.arc(m.cx,m.cy,$,po(m.y11,m.x11),po(m.y01,m.x01),!g))):o.arc(0,0,l,x,w,g):o.lineTo(L,U)}else o.moveTo(0,0);if(o.closePath(),f)return o=null,f+""||null}return f.centroid=function(){var n=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,r=(+a.apply(this,arguments)+ +i.apply(this,arguments))/2-xo/2;return[go(r)*n,yo(r)*n]},f.innerRadius=function(e){return arguments.length?(t="function"==typeof e?e:ho(+e),f):t},f.outerRadius=function(t){return arguments.length?(e="function"==typeof t?t:ho(+t),f):e},f.cornerRadius=function(t){return arguments.length?(n="function"==typeof t?t:ho(+t),f):n},f.padRadius=function(t){return arguments.length?(r=null==t?null:"function"==typeof t?t:ho(+t),f):r},f.startAngle=function(t){return arguments.length?(a="function"==typeof t?t:ho(+t),f):a},f.endAngle=function(t){return arguments.length?(i="function"==typeof t?t:ho(+t),f):i},f.padAngle=function(t){return arguments.length?(c="function"==typeof t?t:ho(+t),f):c},f.context=function(t){return arguments.length?(o=null==t?null:t,f):o},f}function Po(t){this._context=t}function Lo(t){return new Po(t)}function Uo(t){return t[0]}function Yo(t){return t[1]}function zo(){var t=Uo,e=Yo,n=ho(!0),r=null,a=Lo,i=null;function c(c){var o,f,s,u=c.length,l=!1;for(null==r&&(i=a(s=ra())),o=0;o<=u;++o)!(o<u&&n(f=c[o],o,c))===l&&((l=!l)?i.lineStart():i.lineEnd()),l&&i.point(+t(f,o,c),+e(f,o,c));if(s)return i=null,s+""||null}return c.x=function(e){return arguments.length?(t="function"==typeof e?e:ho(+e),c):t},c.y=function(t){return arguments.length?(e="function"==typeof t?t:ho(+t),c):e},c.defined=function(t){return arguments.length?(n="function"==typeof t?t:ho(!!t),c):n},c.curve=function(t){return arguments.length?(a=t,null!=r&&(i=a(r)),c):a},c.context=function(t){return arguments.length?(null==t?r=i=null:i=a(r=t),c):r},c}Po.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}};var Oo=Fo(Lo);function Ro(t){this._curve=t}function Fo(t){function e(e){return new Ro(t(e))}return e._curve=t,e}function Io(){return t=zo().curve(Oo),e=t.curve,t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t.curve=function(t){return arguments.length?e(Fo(t)):e()._curve},t;var t,e}function jo(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function Ho(t,e){this._context=t,this._k=(1-e)/6}function Wo(t,e){this._context=t,this._alpha=e}Ro.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,e){this._curve.point(e*Math.sin(t),e*-Math.cos(t))}},Ho.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:jo(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:jo(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}},Wo.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:!function(t,e,n){var r=t._x1,a=t._y1,i=t._x2,c=t._y2;if(t._l01_a>wo){var o=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,f=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*o-t._x0*t._l12_2a+t._x2*t._l01_2a)/f,a=(a*o-t._y0*t._l12_2a+t._y2*t._l01_2a)/f}if(t._l23_a>wo){var s=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,u=3*t._l23_a*(t._l23_a+t._l12_a);i=(i*s+t._x1*t._l23_2a-e*t._l12_2a)/u,c=(c*s+t._y1*t._l23_2a-n*t._l12_2a)/u}t._context.bezierCurveTo(r,a,i,c,t._x2,t._y2)}(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var qo=function t(e){function n(t){return e?new Wo(t,e):new Ho(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);function Zo(t){return t<0?-1:1}function Xo(t,e,n){var r=t._x1-t._x0,a=e-t._x1,i=(t._y1-t._y0)/(r||a<0&&-0),c=(n-t._y1)/(a||r<0&&-0),o=(i*a+c*r)/(r+a);return(Zo(i)+Zo(c))*Math.min(Math.abs(i),Math.abs(c),.5*Math.abs(o))||0}function Bo(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Vo(t,e,n){var r=t._x0,a=t._y0,i=t._x1,c=t._y1,o=(i-r)/3;t._context.bezierCurveTo(r+o,a+o*e,i-o,c-o*n,i,c)}function Go(t){this._context=t}function Jo(t){this._context=t}function Qo(t){return new Go(t)}function Ko(t,e,n){const r=Object.create(t);return r.a=e[n],r.i=n,r}function tf(t,e,n){const r=Object.create(t);return r.label=e[n].label,r.radius=e[n].radius,r.startAngle=e[n].startAngle,r.endAngle=e[n].endAngle,r.i=n,r}function ef(t){for(var e,n,r=t.priceCoords,a=[],i=0;i<r.length;i+=1)a[i]=nf(tf(t,r,i));return{c(){e=_("g");for(var r=0;r<a.length;r+=1)a[r].c();A(e,"class","price-coords"),A(e,"transform",n="translate("+t.width/2+" "+t.height/2+")")},m(t,n){g(t,e,n);for(var r=0;r<a.length;r+=1)a[r].m(e,null)},p(t,i){if(t.priceCoords||t.arc||t.pi2){r=i.priceCoords;for(var c=0;c<r.length;c+=1){const n=tf(i,r,c);a[c]?a[c].p(t,n):(a[c]=nf(n),a[c].c(),a[c].m(e,null))}for(;c<a.length;c+=1)a[c].d(1);a.length=r.length}(t.width||t.height)&&n!==(n="translate("+i.width/2+" "+i.height/2+")")&&A(e,"transform",n)},d(t){t&&v(e),m(a,t)}}}function nf(t){var e,n,r,a,i,c,o,f=t.label;return{c(){e=_("g"),n=_("path"),a=_("g"),i=_("text"),c=w(f),A(n,"class","price-circle svelte-ktnf7n"),A(n,"d",r=t.arc({radius:t.radius,startAngle:0,endAngle:t.pi2})),A(i,"class","svelte-ktnf7n"),A(a,"class","price-label svelte-ktnf7n"),A(a,"transform",o="translate(0 "+(-t.radius-6)+")"),A(e,"class","price-coord svelte-ktnf7n")},m(t,r){g(t,e,r),p(e,n),p(e,a),p(a,i),p(i,c)},p(t,e){t.priceCoords&&r!==(r=e.arc({radius:e.radius,startAngle:0,endAngle:e.pi2}))&&A(n,"d",r),t.priceCoords&&f!==(f=e.label)&&C(c,f),t.priceCoords&&o!==(o="translate(0 "+(-e.radius-6)+")")&&A(a,"transform",o)},d(t){t&&v(e)}}}function rf(t){for(var e,n,r=t.dayArcs,a=[],i=0;i<r.length;i+=1)a[i]=af(Ko(t,r,i));return{c(){e=_("g");for(var r=0;r<a.length;r+=1)a[r].c();A(e,"class","day-arcs svelte-ktnf7n"),A(e,"transform",n="translate("+t.width/2+" "+t.height/2+")")},m(t,n){g(t,e,n);for(var r=0;r<a.length;r+=1)a[r].m(e,null)},p(t,i){if(t.arcDays||t.dayArcs){r=i.dayArcs;for(var c=0;c<r.length;c+=1){const n=Ko(i,r,c);a[c]?a[c].p(t,n):(a[c]=af(n),a[c].c(),a[c].m(e,null))}for(;c<a.length;c+=1)a[c].d(1);a.length=r.length}(t.width||t.height)&&n!==(n="translate("+i.width/2+" "+i.height/2+")")&&A(e,"transform",n)},d(t){t&&v(e),m(a,t)}}}function af(t){var e,n;return{c(){A(e=_("path"),"d",n=t.arcDays(t.a)),A(e,"class",(t.i%2==0?"even":"odd")+" svelte-ktnf7n")},m(t,n){g(t,e,n)},p(t,r){t.dayArcs&&n!==(n=r.arcDays(r.a))&&A(e,"d",n)},d(t){t&&v(e)}}}function cf(t){var e,n,r,a,i,c,o,f,s,u,l,d,h,b,m,y,x=ff-1;return{c(){e=_("g"),n=_("path"),a=_("path"),c=_("text"),o=_("textPath"),f=w("-"),s=w(x),u=w(" days"),l=_("path"),h=_("text"),b=_("textPath"),m=w("takeoff"),A(n,"class","direction-arrow svelte-ktnf7n"),A(n,"d",r=t.arc({radius:t.priceScale(590),startAngle:t.dayToAngle(ff-4.5),endAngle:t.dayToAngle(ff-1)}).replace("Z","")),A(n,"marker-end","url(#arrow)"),A(a,"id","text-path-start"),A(a,"class","text-path svelte-ktnf7n"),A(a,"d",i=t.arc({radius:t.priceScale(525),startAngle:t.dayToAngle(ff+1.1),endAngle:t.dayToAngle(ff-.9)}).replace("Z","")),A(o,"href","#text-path-start"),A(o,"startOffset","27%"),A(c,"class","svelte-ktnf7n"),A(l,"id","text-path-end"),A(l,"class","text-path svelte-ktnf7n"),A(l,"d",d=t.arc({radius:t.priceScale(525),startAngle:t.dayToAngle(2.2),endAngle:t.dayToAngle(-.4)}).replace("Z","")),A(b,"href","#text-path-end"),A(b,"startOffset","38%"),A(h,"class","svelte-ktnf7n"),A(e,"class","day-arcs-label svelte-ktnf7n"),A(e,"transform",y="translate("+t.width/2+" "+t.height/2+")")},m(t,r){g(t,e,r),p(e,n),p(e,a),p(e,c),p(c,o),p(o,f),p(o,s),p(o,u),p(e,l),p(e,h),p(h,b),p(b,m)},p(t,c){(t.priceScale||t.dayToAngle)&&r!==(r=c.arc({radius:c.priceScale(590),startAngle:c.dayToAngle(ff-4.5),endAngle:c.dayToAngle(ff-1)}).replace("Z",""))&&A(n,"d",r),(t.priceScale||t.dayToAngle)&&i!==(i=c.arc({radius:c.priceScale(525),startAngle:c.dayToAngle(ff+1.1),endAngle:c.dayToAngle(ff-.9)}).replace("Z",""))&&A(a,"d",i),(t.priceScale||t.dayToAngle)&&d!==(d=c.arc({radius:c.priceScale(525),startAngle:c.dayToAngle(2.2),endAngle:c.dayToAngle(-.4)}).replace("Z",""))&&A(l,"d",d),(t.width||t.height)&&y!==(y="translate("+c.width/2+" "+c.height/2+")")&&A(e,"transform",y)},d(t){t&&v(e)}}}function of(e){var n,r,a,i,c,o,f,s,u=e.priceCoords&&ef(e),l=e.dayArcs&&rf(e),d=e.priceScale&&cf(e);return{c(){n=_("svg"),r=_("defs"),a=_("marker"),i=_("path"),u&&u.c(),c=M(),l&&l.c(),o=M(),d&&d.c(),A(i,"d","M0,-5L10,0L0,5"),A(i,"class","arrow-head svelte-ktnf7n"),A(a,"id","arrow"),A(a,"viewBox","0 -5 10 10"),A(a,"refX","5"),A(a,"refY","0"),A(a,"markerWidth","4"),A(a,"markerHeight","4"),A(a,"orient","auto"),A(a,"class","svelte-ktnf7n"),A(n,"width",f=e.width||0),A(n,"height",s=e.height||0),A(n,"class","svelte-ktnf7n")},m(t,e){g(t,n,e),p(n,r),p(r,a),p(a,i),u&&u.m(n,null),p(n,c),l&&l.m(n,null),p(n,o),d&&d.m(n,null)},p(t,e){e.priceCoords?u?u.p(t,e):((u=ef(e)).c(),u.m(n,c)):u&&(u.d(1),u=null),e.dayArcs?l?l.p(t,e):((l=rf(e)).c(),l.m(n,o)):l&&(l.d(1),l=null),e.priceScale?d?d.p(t,e):((d=cf(e)).c(),d.m(n,null)):d&&(d.d(1),d=null),t.width&&f!==(f=e.width||0)&&A(n,"width",f),t.height&&s!==(s=e.height||0)&&A(n,"height",s)},i:t,o:t,d(t){t&&v(n),u&&u.d(),l&&l.d(),d&&d.d()}}}Go.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Vo(this,this._t0,Bo(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(e=+e,(t=+t)!==this._x1||e!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Vo(this,Bo(this,n=Xo(this,t,e)),n);break;default:Vo(this,this._t0,n=Xo(this,t,e))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}},(function(t){this._context=new Jo(t)}.prototype=Object.create(Go.prototype)).point=function(t,e){Go.prototype.point.call(this,e,t)},Jo.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,a,i){this._context.bezierCurveTo(e,t,r,n,i,a)}};const ff=31;function sf(t){return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}function uf(t,e,n){let{priceScale:r,dayToAngle:a,priceLabels:i=[100,300,500],width:c=0,height:o=0,colors:f}=e;const s=2*Math.PI,u=Eo().innerRadius(t=>t.radius).outerRadius(t=>t.radius).startAngle(t=>t.startAngle).endAngle(t=>t.endAngle),l=Eo().innerRadius(t=>t.innerRadius).outerRadius(t=>t.outerRadius).startAngle(t=>t.startAngle).endAngle(t=>t.endAngle).cornerRadius(3);let d,h,b;return t.$set=(t=>{"priceScale"in t&&n("priceScale",r=t.priceScale),"dayToAngle"in t&&n("dayToAngle",a=t.dayToAngle),"priceLabels"in t&&n("priceLabels",i=t.priceLabels),"width"in t&&n("width",c=t.width),"height"in t&&n("height",o=t.height),"colors"in t&&n("colors",f=t.colors)}),t.$$.update=((t={priceScale:1,priceLabels:1,dayToAngle:1})=>{(t.priceScale||t.priceLabels||t.dayToAngle)&&r&&(n("priceCoords",d=i.map(t=>({label:`${sf(t)} â‚¬`,radius:r(t)}))),n("dayArcs",h=function(t,e,n){t=+t,e=+e,n=(a=arguments.length)<2?(e=t,t=0,1):a<3?1:+n;for(var r=-1,a=0|Math.max(0,Math.ceil((e-t)/n)),i=new Array(a);++r<a;)i[r]=t+r*n;return i}(1,ff-1,1).map(t=>({innerRadius:r(525),outerRadius:r(550),startAngle:a(t),endAngle:a(t+1)}))),b={innerRadius:r(570),outerRadius:r(575),startAngle:a(ff-1),endAngle:a(ff-4.5)})}),{priceScale:r,dayToAngle:a,priceLabels:i,width:c,height:o,colors:f,pi2:s,arc:u,arcDays:l,priceCoords:d,dayArcs:h}}class lf extends ut{constructor(t){super(),st(this,t,uf,of,o,["priceScale","dayToAngle","priceLabels","width","height","colors"])}}function df(t,{delay:e=0,duration:n=400}){const r=+getComputedStyle(t).opacity;return{delay:e,duration:n,css:t=>`opacity: ${t*r}`}}function hf(t){var e,n,r,a,i,c,o,f,s,u,l,d,h,b=t.tooltip.textPrice,m=t.tooltip.textDays;return{c(){e=_("g"),n=_("rect"),i=_("text"),c=w(b),f=_("text"),s=w(m),A(n,"x","0"),A(n,"y","0"),A(n,"width",r=t.tooltip.width),A(n,"height",a=t.tooltip.height),A(n,"rx","6"),A(n,"ry","6"),A(n,"class","svelte-1loplal"),A(i,"class","price svelte-1loplal"),A(i,"transform",o="translate("+t.tooltip.width/2+" "+.4*t.tooltip.height+")"),A(f,"class","days svelte-1loplal"),A(f,"transform",u="translate("+t.tooltip.width/2+" "+.75*t.tooltip.height+")"),A(e,"class","tooltip svelte-1loplal"),A(e,"transform",l="translate("+t.tooltip.x+" "+t.tooltip.y+")")},m(t,r){g(t,e,r),p(e,n),p(e,i),p(i,c),p(e,f),p(f,s),h=!0},p(t,d){h&&!t.tooltip||r===(r=d.tooltip.width)||A(n,"width",r),h&&!t.tooltip||a===(a=d.tooltip.height)||A(n,"height",a),h&&!t.tooltip||b===(b=d.tooltip.textPrice)||C(c,b),h&&!t.tooltip||o===(o="translate("+d.tooltip.width/2+" "+.4*d.tooltip.height+")")||A(i,"transform",o),h&&!t.tooltip||m===(m=d.tooltip.textDays)||C(s,m),h&&!t.tooltip||u===(u="translate("+d.tooltip.width/2+" "+.75*d.tooltip.height+")")||A(f,"transform",u),h&&!t.tooltip||l===(l="translate("+d.tooltip.x+" "+d.tooltip.y+")")||A(e,"transform",l)},i(t){h||(X(()=>{d||(d=rt(e,df,{},!0)),d.run(1)}),h=!0)},o(t){d||(d=rt(e,df,{},!1)),d.run(0),h=!1},d(t){t&&(v(e),d&&d.end())}}}function bf(t){var e,n,r,a,c,o,f,s,u,l,d=t.tooltip&&hf(t);return{c(){var i;e=_("svg"),n=_("g"),r=_("g"),d&&d.c(),c=x(),o=y("canvas"),f=x(),s=y("canvas"),A(n,"class","circle-origin"),A(n,"transform",a="translate("+t.width/2+" "+t.height/2+")"),A(e,"width",t.width),A(e,"height",t.height),A(e,"class","svelte-1loplal"),A(o,"class","visible svelte-1loplal"),A(s,"class","hidden svelte-1loplal"),l=[k(window,"click",t.click_handler),k(e,"click",(i=t.click_handler_1,function(t){return t.stopPropagation(),i.call(this,t)}))]},m(a,i){g(a,e,i),p(e,n),p(n,r),t.g0_binding(r),d&&d.m(n,null),g(a,c,i),g(a,o,i),t.canvas0_binding(o),g(a,f,i),g(a,s,i),t.canvas1_binding(s),u=!0},p(t,r){r.tooltip?d?(d.p(t,r),et(d,1)):((d=hf(r)).c(),et(d,1),d.m(n,null)):d&&(K(),nt(d,1,1,()=>{d=null}),tt()),u&&!t.width&&!t.height||a===(a="translate("+r.width/2+" "+r.height/2+")")||A(n,"transform",a),u&&!t.width||A(e,"width",r.width),u&&!t.height||A(e,"height",r.height)},i(t){u||(et(d),u=!0)},o(t){nt(d),u=!1},d(n){n&&v(e),t.g0_binding(null),d&&d.d(),n&&(v(c),v(o)),t.canvas0_binding(null),n&&(v(f),v(s)),t.canvas1_binding(null),i(l)}}}const pf=2,gf=1;function vf(t,e,n){let{data:r,width:a,height:i,colors:c}=e;const o=R(),f=[[],[1,7]];let s,u,l,d,h,b,p,g,v,m=2,y=null,_=60;function w(t,e=null){const n="hidden"===t?b:d;n.clearRect(-a/2,-i/2,a,i),p.forEach(({id:r,path:a,color:i,colorId:c})=>{n.globalAlpha=e?e===r?1:.1:gf,n.lineCap="round",n.setLineDash(f[0]),n.strokeStyle="hidden"===t?c:i,n.beginPath(),a.forEach((t,e,r)=>{r[e-1]&&t.gap!==r[e-1].gap&&(n.setLineDash(f[Number(r[e-1].gap)]),n.stroke(),n.beginPath(),n.moveTo(...r[e-1].d.slice(-2))),"M"===t.type?n.moveTo(...t.d):"C"===t.type&&n.bezierCurveTo(...t.d)}),n.setLineDash(f[Number(a[a.length-1].gap)]),n.stroke()})}function x(t){const e=b.getImageData(t.layerX*pf,t.layerY*pf,1,1).data,r=`rgb(${e[0]},${e[1]},${e[2]})`,a=p.find(t=>t.colorId===r);n("highlightId",y=a?a.id:null)}function M(t,e=0,r=0,a=0){if(null===t)return void n("tooltip",v=null);n("tooltip",v={textDays:`${1===e?"final price":e+" days to departure."}`,textPrice:`${Math.round(t)} â‚¬`,x:Number(r)-75,y:Number(a)+10,width:150,height:50})}return O(()=>{l=pe(s),d=l.node().getContext("2d"),h=pe(u),b=h.node().getContext("2d")}),t.$set=(t=>{"data"in t&&n("data",r=t.data),"width"in t&&n("width",a=t.width),"height"in t&&n("height",i=t.height),"colors"in t&&n("colors",c=t.colors)}),t.$$.update=((t={width:1,height:1,data:1,highlightId:1,canvasData:1})=>{t.width&&n("width",a=a||0),t.height&&n("height",i=i||0),(t.width||t.height)&&a&&i&&function(){function t(t,e){return t.attr("width",pf*a).attr("height",pf*i).style("width",`${a}px`).style("height",`${i}px`),e.scale(pf,pf),e.translate(a/2,i/2),e.lineWidth="hidden"===e.canvas.classList[0]?2*m:m,[t,e]}m=2.7*Math.min(a,i)/450,[l,d]=t(l,d),[h,b]=t(h,b)}(),(t.data||t.highlightId||t.canvasData)&&r&&r.length>0&&(n("canvasData",p=r.map(t=>{let e=d.createRadialGradient(0,0,t.minRadius,0,0,t.maxRadius);return e.addColorStop(0,t.middleStop<.01?c.endPrice:c.lowPrice),e.addColorStop(t.middleStop,c.endPrice),e.addColorStop(1,t.middleStop>.99?c.endPrice:c.highPrice),{...t,color:e}})),w("visible",y),w("hidden"),p.map(t=>t.id).includes(y)||n("highlightId",y=null)),t.highlightId&&function(t){if(!r)return;const e=r.find(e=>e.id===t);let n=[];e?(n=e.path.map((t,e)=>({id:e,cx:t.d[4]||t.d[0],cy:t.d[5]||t.d[1],price:t.price,timeToDepartureDays:t.timeToDepartureDays})),_=n.length,w("visible",t)):w("visible");const a=pe(g).transition().duration(300);pe(g).selectAll(".dot").data(n,t=>t.id).join(t=>t.append("circle").call(t=>t.transition(a).delay(t=>7*t.id).attr("cx",t=>+t.cx).attr("cy",t=>+t.cy)),t=>t.call(t=>t.transition(a).attr("cx",t=>+t.cx).attr("cy",t=>+t.cy)),t=>t.call(t=>t.transition(a).delay(t=>7*(_-t.id)).attr("cx",0).attr("cy",0).remove())).attr("class","dot").attr("fill","#321321").attr("fill-opacity",.6).attr("r",1.1*m).on("mouseover",t=>M(t.price,t.timeToDepartureDays,t.cx,t.cy)).on("mouseout",t=>M(null)),o("flightclick",t)}(y)}),{data:r,width:a,height:i,colors:c,canvasElement:s,hiddenCanvasElement:u,dotsG:g,highlightId:y,tooltip:v,handleClick:x,click_handler:function(){null!==y&&(n("highlightId",y=null),n("data",r),n("canvasData",p))},g0_binding:function(t){I[t?"unshift":"push"](()=>{n("dotsG",g=t)})},click_handler_1:function(t){return x(t)},canvas0_binding:function(t){I[t?"unshift":"push"](()=>{n("canvasElement",s=t)})},canvas1_binding:function(t){I[t?"unshift":"push"](()=>{n("hiddenCanvasElement",u=t)})}}}class mf extends ut{constructor(t){super(),st(this,t,vf,bf,o,["data","width","height","colors"])}}const yf=t=>ji("%Y-%m-%dT%I:%M:%SZ")(t),_f=Fi("%Y-%m-%d");function wf(t){var e,n,r,a,i=Tf(t.timeRange);return{c(){e=y("div"),(n=y("span")).textContent="Departure",r=x(),A(n,"class","pre-string svelte-lijv0r"),a=new D(i,null),A(e,"class","selected-time-range svelte-lijv0r"),T(e,"width",t.priceScale(300)+"px")},m(t,i){g(t,e,i),p(e,n),p(e,r),a.m(e)},p(t,n){t.timeRange&&i!==(i=Tf(n.timeRange))&&a.p(i),t.priceScale&&T(e,"width",n.priceScale(300)+"px")},d(t){t&&v(e)}}}function xf(t){var e,n,r,a,i,c=new lf({props:{priceScale:t.priceScale,dayToAngle:t.dayToAngle,width:t.width-Mf,height:t.height-Mf,colors:t.colors}}),o=new mf({props:{data:t.slicedData,width:t.width-Mf,height:t.height-Mf,colors:t.colors}});o.$on("flightclick",t.flightclick_handler);var f=t.priceScale&&t.timeRange&&wf(t);return{c(){e=y("div"),c.$$.fragment.c(),n=x(),o.$$.fragment.c(),r=x(),f&&f.c(),X(()=>t.div_resize_handler.call(e)),A(e,"class","wrapper svelte-lijv0r")},m(s,u){g(s,e,u),ct(c,e,null),p(e,n),ct(o,e,null),p(e,r),f&&f.m(e,null),a=$(e,t.div_resize_handler.bind(e)),i=!0},p(t,n){var r={};t.priceScale&&(r.priceScale=n.priceScale),t.dayToAngle&&(r.dayToAngle=n.dayToAngle),(t.width||t.sizeOffset)&&(r.width=n.width-Mf),(t.height||t.sizeOffset)&&(r.height=n.height-Mf),t.colors&&(r.colors=n.colors),c.$set(r);var a={};t.slicedData&&(a.data=n.slicedData),(t.width||t.sizeOffset)&&(a.width=n.width-Mf),(t.height||t.sizeOffset)&&(a.height=n.height-Mf),t.colors&&(a.colors=n.colors),o.$set(a),n.priceScale&&n.timeRange?f?f.p(t,n):((f=wf(n)).c(),f.m(e,null)):f&&(f.d(1),f=null)},i(t){i||(et(c.$$.fragment,t),et(o.$$.fragment,t),i=!0)},o(t){nt(c.$$.fragment,t),nt(o.$$.fragment,t),i=!1},d(t){t&&v(e),ot(c),ot(o),f&&f.d(),a.cancel()}}}const Mf=10,kf=30,Af=.5,Cf=35;function Tf(t){const e=Fi("%a")(t[0]),n=Fi("%b %d")(t[0]).replace(" ","&nbsp;"),r=Fi("%d")(t[1]).replace(" ","&nbsp;");return n===Fi("%b %d")(t[1]).replace(" ","&nbsp;")?`${e}, ${n}`:`${n} - ${r}`}function $f(t,e,n){let{data:r,timeRange:a=[],colors:i}=e;const c=2*Math.PI,o=-2,f=Io().angle(t=>t.angle).radius(t=>t.radius).curve(qo.alpha(.5));let s,u,l,d,h,b,p=0,g=1;function v(){let t=[];return g<16777215&&(t.push(255&g),t.push((65280&g)>>8),t.push((16711680&g)>>16),g+=1),`rgb(${t.join(",")})`}function m(t){return-c*t/Cf+c*o/Cf}function y(){p=Mt(r,t=>t.price),n("priceScale",l=hi().domain([0,p]).range([Math.min(s,u)/11,.5*Math.min(s,u)]));const t=ca().key(t=>t.flightIdUnique).entries(r);n("dataPreCalc",d=function(t){return t.map(t=>{let e=[],n=-100,r=[],a=kf;t.values.forEach(t=>{const i=l(t.price),c=m(t.timeToDepartureDays);1===t.timeToDepartureDays&&(n=i);const o={radius:i,angle:c,price:t.price,timeToDepartureDays:t.timeToDepartureDays};e.push(o),r.push(a-t.timeToDepartureDays>Af),a=t.timeToDepartureDays});const i=Math.min(...e.map(t=>t.radius)),c=Math.max(...e.map(t=>t.radius)),o=Math.min((n-i)/(c-i),1)||0,s=f(e).split("C").map((t,n)=>({type:"M"===t[0]?"M":"C",gap:r[n]||!1,d:t.replace("M","").split(","),price:e[n].price,timeToDepartureDays:e[n].timeToDepartureDays}));return{id:t.key,path:s,minRadius:i,maxRadius:c,endRadius:n,middleStop:o,departure:t.values[0].departure,colorId:v()}})}(t)),d.length>0&&(h={},d.forEach((t,e)=>{const n=_f(t.departure);Object.keys(h).includes(n)?h[n]=[h[n][0],e]:h[n]=[e]}))}return t.$set=(t=>{"data"in t&&n("data",r=t.data),"timeRange"in t&&n("timeRange",a=t.timeRange),"colors"in t&&n("colors",i=t.colors)}),t.$$.update=((t={width:1,height:1,data:1,dataPreCalc:1,timeRange:1})=>{(t.width||t.height||t.data)&&s&&u&&r&&r.length>0&&y(),(t.dataPreCalc||t.timeRange)&&d&&function(t){if(h&&2===t.length){t.reduce((t,e)=>Math.abs(t-e))/36e5<=24&&(t=[t[0],t[0]]);const e=t.map(_f),r=h[e[0]][0],a=h[e[1]][1]||h[e[1]][0];n("slicedData",b=d.slice(r,a+1))}else n("slicedData",b=d)}(a)}),{data:r,timeRange:a,colors:i,width:s,height:u,priceScale:l,slicedData:b,dayToAngle:m,flightclick_handler:function(e){!function(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach(t=>t(e))}(t,e)},div_resize_handler:function(){s=this.offsetWidth,u=this.offsetHeight,n("width",s),n("height",u)}}}class Nf extends ut{constructor(t){super(),st(this,t,$f,xf,o,["data","timeRange","colors"])}}function Sf(t){var e,n,r,a,i;return{c(){e=_("svg"),n=_("g"),r=_("path"),a=_("g"),i=_("path"),A(r,"d","M557,0,412,376H0L45.9632,357.23952q3.03574-1.23912,5.97062-2.70642l40.54441-20.27222a47.159,47.159,0,0,0,4.87542-2.81329l27.48592-18.129a174.30662,174.30662,0,0,0,31.217-26.31882L411.15042,14.77942A46.73792,46.73792,0,0,1,445.25449,0Z"),A(r,"class","svelte-1t852gc"),A(n,"class","background"),A(i,"d","M47.1993352,0.806896552 L39.9664312,0.806896552 C39.5955131,0.806896552 39.410054,0.986206897 39.410054,0.986206897 L19.4732032,25.0137931 C19.3804736,25.1931034 19.3804736,25.2827586 19.5659327,25.2827586 L22.533278,25.2827586 C22.8114665,25.2827586 22.9041961,25.1931034 22.9041961,25.1034483 L27.1697549,19.8137931 C27.1697549,19.8137931 27.2624844,19.7241379 27.355214,19.7241379 L34.4953884,19.7241379 C34.4953884,19.7241379 34.588118,19.7241379 34.588118,19.8137931 C34.588118,19.9034483 33.568093,25.0137931 33.568093,25.0137931 C33.568093,25.1034483 33.568093,25.2827586 33.8462817,25.2827586 L42.4701288,25.2827586 C42.5628583,25.2827586 42.6555879,25.2827586 42.6555879,25.1034483 L47.4775239,1.07586207 C47.3847943,1.07586207 47.4775239,0.806896552 47.1993352,0.806896552 L47.1993352,0.806896552 Z M34.9590361,17.3034483 L29.3952638,17.3034483 C29.3952638,17.3034483 29.3952638,17.3034483 29.3025342,17.3034483 L29.3025342,17.2137931 L36.7208974,7.97931034 L36.8136269,7.88965517 C36.9063565,7.88965517 36.8136269,7.97931034 36.8136269,7.97931034 L34.9590361,17.3034483 C35.0517657,17.2137931 35.0517657,17.2137931 34.9590361,17.3034483 Z M0.185459077,22.2344827 C0.185459077,22.2344827 0.83456585,20.0827586 0.927295391,20.1724138 C0.927295391,19.8137931 1.11275447,19.7241379 1.29821354,19.9034483 C2.13277939,20.7103448 4.72920648,23.1310344 8.3456585,23.1310344 C12.3330287,23.1310344 12.05484,19.9931034 12.05484,19.5448276 C12.05484,18.2896552 10.3857084,12.1034483 9.92206063,10.4896552 C8.62384711,5.28965517 11.869381,0.537931034 19.5659327,0.537931034 C23.6460324,0.537931034 25.6860822,1.6137931 26.4279185,1.97241379 C26.8915663,2.24137931 26.7988367,2.6 26.7988367,2.6 C26.7988367,2.6 26.335189,4.48275862 26.335189,4.66206897 C26.2424595,4.84137931 26.0570004,4.84137931 25.8715413,4.66206897 C24.6660574,3.94482759 23.2751143,3.13793103 21.1423349,3.13793103 C18.6386373,3.13793103 17.3404238,4.93103448 17.9895305,7.53103448 C18.2677192,8.42758624 19.8441213,14.6137931 20.1223099,15.8689656 C21.2350644,20.3517241 18.0822601,25.7310344 9.55114248,25.7310344 C4.82193602,25.7310344 1.85459077,24.0275862 0.83456585,23.2206897 C0.278188616,22.7724138 0.0927295391,22.5034483 0.185459077,22.2344827 Z M45.5302036,22.3241379 C45.5302036,22.3241379 45.9938513,19.9931034 45.9938513,20.1724138 C46.0865808,19.9034483 46.3647695,19.8137931 46.5502285,19.9931034 C47.4775239,20.8 49.8884919,23.1310344 53.5049439,23.1310344 C57.4923141,23.1310344 57.2141255,19.9931034 57.2141255,19.5448276 C57.2141255,18.2896552 55.5449938,12.1034483 55.0813461,10.4896552 C53.7831325,5.28965517 57.0286664,0.537931034 64.7252181,0.537931034 C68.8053178,0.537931034 70.8453677,1.6137931 71.587204,1.97241379 C72.0508517,2.24137931 71.9581221,2.6 71.9581221,2.6 C71.9581221,2.6 71.4944745,4.48275862 71.4944745,4.66206897 C71.4017449,4.84137931 71.2162858,4.84137931 71.0308267,4.66206897 C69.8253427,3.94482759 68.4343997,3.13793103 66.3016203,3.13793103 C63.7979227,3.13793103 62.4997092,4.93103448 63.1488159,7.53103448 C63.4270046,8.42758624 65.0034068,14.6137931 65.2815953,15.8689656 C66.3943498,20.3517241 63.2415455,25.7310344 54.7104279,25.7310344 C49.9812215,25.7310344 47.1993352,24.1172414 46.1793104,23.3103448 C45.6229331,22.862069 45.437474,22.5931034 45.5302036,22.3241379 Z"),A(i,"class","svelte-1t852gc"),A(a,"class","logo"),A(a,"transform","translate(165 250) scale(3.6)"),A(e,"viewBox","0 0 556 376"),A(e,"class","sas svelte-1t852gc")},m(t,c){g(t,e,c),p(e,n),p(n,r),p(e,a),p(a,i)},d(t){t&&v(e)}}}function Df(t){var e,n,r,a,i;return{c(){e=_("svg"),n=_("g"),r=_("path"),a=_("g"),i=_("path"),A(r,"d","M557,0,412,376H0L45.9632,357.23952q3.03574-1.23912,5.97062-2.70642l40.54441-20.27222a47.159,47.159,0,0,0,4.87542-2.81329l27.48592-18.129a174.30662,174.30662,0,0,0,31.217-26.31882L411.15042,14.77942A46.73792,46.73792,0,0,1,445.25449,0Z"),A(r,"class","svelte-1t852gc"),A(n,"class","background"),A(i,"d","M38 19C38 8.474 29.526 0 19 0 8.512 0 0 8.474 0 19c0 10.488 8.512 19 19 19 10.526 0 19-8.512 19-19zm-1.368 0c0 9.69-7.904 17.632-17.632 17.632-9.69 0-17.632-7.941-17.632-17.632C1.368 9.272 9.31 1.368 19 1.368c9.728 0 17.632 7.904 17.632 17.632zm-10.906-1.14c-.418 0-.95 0-1.634.038l.494-.836h.798c2.85 0 4.978.152 6.916.494l.874-.836c-2.166-.38-4.788-.608-7.448-.608h-.646l.418-.798h.722c2.774 0 5.282.228 7.714.684l.912-.874c-2.736-.532-5.662-.797-8.816-.797a45.9 45.9 0 0 0-4.028.19c-1.52 3.267-3.952 5.168-6.688 5.13-1.064-.039-2.395-.494-4.104-1.407l-1.596-.912.494-.456 3.686 1.596.798-.608-7.448-3.382-1.14.874-2.66-1.102.038 1.102c3.572 1.634 5.054 2.546 8.816 5.244 4.902 3.496 9.272 5.396 15.352 6.612l1.596-1.52h-.38c-4.028 0-7.638-1.33-9.728-3.572 1.748-1.064 3.913-1.557 6.916-1.557.798 0 1.938.075 3.002.189l.912-.874a36.194 36.194 0 0 0-4.294-.266 35.23 35.23 0 0 0-2.888.114l.684-.836a43.437 43.437 0 0 1 2.432-.076c2.014 0 3.344.076 4.864.304l.874-.836c-1.596-.265-3.8-.418-5.814-.418z"),A(i,"class","svelte-1t852gc"),A(a,"class","logo"),A(a,"transform","translate(245 160) scale(5)"),A(e,"viewBox","0 0 556 376"),A(e,"class","lh svelte-1t852gc")},m(t,c){g(t,e,c),p(e,n),p(n,r),p(e,a),p(a,i)},d(t){t&&v(e)}}}function Ef(e){var n;function r(t){return t.company&&"LH"===t.company?Df:t.company&&"SK"===t.company?Sf:void 0}var a=r(e),i=a&&a(e);return{c(){i&&i.c(),n=M()},m(t,e){i&&i.m(t,e),g(t,n,e)},p(t,e){a!==(a=r(e))&&(i&&i.d(1),(i=a&&a(e))&&(i.c(),i.m(n.parentNode,n)))},i:t,o:t,d(t){i&&i.d(t),t&&v(n)}}}function Pf(t,e,n){let{company:r}=e;return t.$set=(t=>{"company"in t&&n("company",r=t.company)}),{company:r}}class Lf extends ut{constructor(t){super(),st(this,t,Pf,Ef,o,["company"])}}function Uf(t){var e,n,r,a,i,c,o,f,s,u,l,d,h,b,m,_,M,k,T,$,N,S=t.data.flightId,D=t.timeFormatter(t.data.departure),E=t.timeFormatter(t.data.arrival),P=Math.round(t.data.endPrice),L=new Lf({props:{company:t.data.company}});return{c(){e=y("div"),n=y("div"),(r=y("span")).textContent="Flight",a=w(S),i=y("br"),c=x(),(o=y("span")).textContent="Departure",f=w(D),s=y("br"),u=x(),(l=y("span")).textContent="Arrival",d=w(E),h=y("br"),b=x(),(m=y("span")).textContent="Final price",_=w(P),M=w(" â‚¬"),k=x(),T=y("div"),L.$$.fragment.c(),A(r,"class","svelte-1xjco0m"),A(o,"class","svelte-1xjco0m"),A(l,"class","svelte-1xjco0m"),A(m,"class","svelte-1xjco0m"),A(n,"class","info svelte-1xjco0m"),A(T,"class","fin svelte-1xjco0m"),A(e,"class","wrapper svelte-1xjco0m")},m(t,v){g(t,e,v),p(e,n),p(n,r),p(n,a),p(n,i),p(n,c),p(n,o),p(n,f),p(n,s),p(n,u),p(n,l),p(n,d),p(n,h),p(n,b),p(n,m),p(n,_),p(n,M),p(e,k),p(e,T),ct(L,T,null),N=!0},p(t,e){N&&!t.data||S===(S=e.data.flightId)||C(a,S),N&&!t.data||D===(D=e.timeFormatter(e.data.departure))||C(f,D),N&&!t.data||E===(E=e.timeFormatter(e.data.arrival))||C(d,E),N&&!t.data||P===(P=Math.round(e.data.endPrice))||C(_,P);var n={};t.data&&(n.company=e.data.company),L.$set(n)},i(t){N||(et(L.$$.fragment,t),X(()=>{$||($=rt(e,df,{duration:200},!0)),$.run(1)}),N=!0)},o(t){nt(L.$$.fragment,t),$||($=rt(e,df,{duration:200},!1)),$.run(0),N=!1},d(t){t&&v(e),ot(L),t&&$&&$.end()}}}function Yf(t){var e,n,r=t.data&&Uf(t);return{c(){r&&r.c(),e=M()},m(t,a){r&&r.m(t,a),g(t,e,a),n=!0},p(t,n){n.data?r?(r.p(t,n),et(r,1)):((r=Uf(n)).c(),et(r,1),r.m(e.parentNode,e)):r&&(K(),nt(r,1,1,()=>{r=null}),tt())},i(t){n||(et(r),n=!0)},o(t){nt(r),n=!1},d(t){r&&r.d(t),t&&v(e)}}}function zf(t,e,n){let{data:r}=e;const a=Fi("%H:%M");return t.$set=(t=>{"data"in t&&n("data",r=t.data)}),{data:r,timeFormatter:a}}class Of extends ut{constructor(t){super(),st(this,t,zf,Yf,o,["data"])}}function Rf(t,e,n){const r=Object.create(t);return r.departure=e[n].departure,r.show=e[n].show,r.id=e[n].id,r.i=n,r}function Ff(t){var e,n,r,a,i,c,o=[],f=new Map,s=t.ticks;const u=t=>t.id;for(var l=0;l<s.length;l+=1){let e=Rf(t,s,l),n=u(e);f.set(n,o[l]=jf(n,e))}return{c(){for(e=_("svg"),n=_("g"),l=0;l<o.length;l+=1)o[l].c();a=_("g"),i=_("path"),A(n,"class","axis"),A(n,"transform",r="translate(0 "+(t.height*Wf-t.padding.bottom)+")"),A(i,"class","end-price-line svelte-mr6ttt"),A(i,"stroke-width",c=Math.max(t.width,t.height*Wf)/700),A(i,"d",t.path),A(a,"class","end-price svelte-mr6ttt"),A(a,"transform","translate(0 -10)"),A(e,"class","svelte-mr6ttt")},m(r,c){for(g(r,e,c),p(e,n),l=0;l<o.length;l+=1)o[l].m(n,null);p(e,a),p(a,i),t.svg_binding(e)},p(t,e){const a=e.ticks;o=function(t,e,n,r,a,i,c,o,f,s,u,l){let d=t.length,h=i.length,b=d;const p={};for(;b--;)p[t[b].key]=b;const g=[],v=new Map,m=new Map;for(b=h;b--;){const t=l(a,i,b),o=n(t);let f=c.get(o);f?r&&f.p(e,t):(f=s(o,t)).c(),v.set(o,g[b]=f),o in p&&m.set(o,Math.abs(b-p[o]))}const y=new Set,_=new Set;function w(t){et(t,1),t.m(o,u),c.set(t.key,t),u=t.first,h--}for(;d&&h;){const e=g[h-1],n=t[d-1],r=e.key,a=n.key;e===n?(u=e.first,d--,h--):v.has(a)?!c.has(r)||y.has(r)?w(e):_.has(a)?d--:m.get(r)>m.get(a)?(_.add(r),w(e)):(y.add(a),d--):(f(n,c),d--)}for(;d--;){const e=t[d];v.has(e.key)||f(e,c)}for(;h;)w(g[h-1]);return g}(o,t,u,1,e,a,f,n,it,jf,null,Rf),t.height&&r!==(r="translate(0 "+(e.height*Wf-e.padding.bottom)+")")&&A(n,"transform",r),(t.width||t.height)&&c!==(c=Math.max(e.width,e.height*Wf)/700)&&A(i,"stroke-width",c),t.path&&A(i,"d",e.path)},d(n){for(n&&v(e),l=0;l<o.length;l+=1)o[l].d();t.svg_binding(null)}}}function If(t){var e,n,r,a,i,c=Fi("%b %d")(t.departure);return{c(){e=_("g"),n=_("circle"),r=_("text"),a=w(c),A(n,"cx",0),A(n,"cy",-12),A(n,"r","2"),A(n,"class","svelte-mr6ttt"),A(r,"class","svelte-mr6ttt"),A(e,"class","tick svelte-mr6ttt"),A(e,"transform",i="translate("+t.x(t.departure)+" 0)")},m(t,i){g(t,e,i),p(e,n),p(e,r),p(r,a)},p(t,n){t.ticks&&c!==(c=Fi("%b %d")(n.departure))&&C(a,c),(t.x||t.ticks)&&i!==(i="translate("+n.x(n.departure)+" 0)")&&A(e,"transform",i)},d(t){t&&v(e)}}}function jf(t,e){var n,r,a=e.show&&If(e);return{key:t,first:null,c(){n=M(),a&&a.c(),r=M(),this.first=n},m(t,e){g(t,n,e),a&&a.m(t,e),g(t,r,e)},p(t,e){e.show?a?a.p(t,e):((a=If(e)).c(),a.m(r.parentNode,r)):a&&(a.d(1),a=null)},d(t){t&&v(n),a&&a.d(t),t&&v(r)}}}function Hf(e){var n,r,a,c,o,f,s,u,l,d,h,b,m,_,w=e.path&&Ff(e);return{c(){n=y("div"),r=y("div"),(a=y("div")).textContent="Final prices per departure date in",c=x(),(o=y("div")).textContent="April",f=x(),(s=y("div")).textContent="May",u=x(),(l=y("div")).textContent="June",d=x(),(h=y("div")).textContent="2019.",b=x(),w&&w.c(),A(a,"class","label svelte-mr6ttt"),A(o,"class","month-selector svelte-mr6ttt"),N(o,"active",3===e.selectedMonth),A(s,"class","month-selector svelte-mr6ttt"),N(s,"active",4===e.selectedMonth),A(l,"class","month-selector svelte-mr6ttt"),N(l,"active",5===e.selectedMonth),A(h,"class","label svelte-mr6ttt"),A(r,"class","top-line svelte-mr6ttt"),X(()=>e.div6_resize_handler.call(n)),A(n,"class","wrapper svelte-mr6ttt"),_=[k(o,"click",e.click_handler),k(s,"click",e.click_handler_1),k(l,"click",e.click_handler_2)]},m(t,i){g(t,n,i),p(n,r),p(r,a),p(r,c),p(r,o),p(r,f),p(r,s),p(r,u),p(r,l),p(r,d),p(r,h),p(n,b),w&&w.m(n,null),m=$(n,e.div6_resize_handler.bind(n))},p(t,e){t.selectedMonth&&(N(o,"active",3===e.selectedMonth),N(s,"active",4===e.selectedMonth),N(l,"active",5===e.selectedMonth)),e.path?w?w.p(t,e):((w=Ff(e)).c(),w.m(n,null)):w&&(w.d(1),w=null)},i:t,o:t,d(t){t&&v(n),w&&w.d(),m.cancel(),i(_)}}}const Wf=.75;function qf(t,e,n){let{data:r,colors:a}=e;const i=R(),c={top:20,bottom:10};let o,f,s,u,l,d,h,b,p,g,v,m=!0,y={3:[yf("2019-04-24T00:00:00Z"),yf("2019-04-25T00:00:00Z")],4:[yf("2019-05-24T00:00:00Z"),yf("2019-05-25T00:00:00Z")],5:[yf("2019-06-24T00:00:00Z"),yf("2019-06-25T00:00:00Z")]};function _(){if(!m&&!ce.sourceEvent||!ce.selection)return;m=!1;let t=ce.selection.map(l.invert),e=t.map(Mi.round);e[0]>=e[1]&&(e[0]=Mi.floor(t[0]),e[1]=Mi.offset(e[0])),e[1]>l.domain()[1]&&(e[1]=l.domain()[1]),e[1]=new Date(e[1]-100),"end"===ce.type&&pe(this).transition().call(ce.target.move,e.map(l)),y[v].toString()!==e.toString()&&(y[v]=[e[0],e[1]],i("timerangeselected",e))}return O(()=>{n("selectedMonth",v=3)}),t.$set=(t=>{"data"in t&&n("data",r=t.data),"colors"in t&&n("colors",a=t.colors)}),t.$$.update=((t={selectedMonth:1,dataMonth:1,width:1,height:1,data:1,x:1,y:1,line:1,ticks:1,svgElement:1})=>{if(t.selectedMonth&&function(t){t&&(m=!0,n("dataMonth",o=r.filter(e=>e.departure.getMonth()===t)),i("timerangeselected",y[v]))}(v),(t.dataMonth||t.width||t.height||t.data||t.x||t.y||t.line||t.ticks)&&o&&o.length>0&&f&&s){n("x",l=fo().domain(function(t,e){var n,r,a,i=t.length,c=-1;if(null==e){for(;++c<i;)if(null!=(n=t[c])&&n>=n)for(r=a=n;++c<i;)null!=(n=t[c])&&(r>n&&(r=n),a<n&&(a=n))}else for(;++c<i;)if(null!=(n=e(t[c],c,t))&&n>=n)for(r=a=n;++c<i;)null!=(n=e(t[c],c,t))&&(r>n&&(r=n),a<n&&(a=n));return[r,a]}(o,t=>t.departure)).range([0,f])),n("y",d=hi().domain([0,Mt(r,t=>t.endPrice)]).range([s*Wf,c.top])),n("line",h=zo().x(t=>l(t.departure)).y(t=>d(t.endPrice)).curve(Qo)),n("path",b=h(o));const t=3;let e=o[0].departure;n("ticks",p=o.map(({departure:n},r)=>{let a;return(n-e)/864e5>=t?(e=n,a=!0):a=!1,{id:r,departure:n,show:a}})),n("ticks",p=p.slice(3,-3))}(t.x||t.svgElement)&&l&&u&&(pe(u).selectAll("g.brush").remove(),g=Qr().extent([[0,0],[f,s*Wf]]).on("brush end",_),pe(u).append("g").attr("class","brush").call(g).call(g.move,[l(y[v][0]),l(y[v][1])]))}),{data:r,colors:a,padding:c,width:f,height:s,svgElement:u,x:l,path:b,ticks:p,selectedMonth:v,click_handler:function(){const t=v=3;return n("selectedMonth",v),t},click_handler_1:function(){const t=v=4;return n("selectedMonth",v),t},click_handler_2:function(){const t=v=5;return n("selectedMonth",v),t},svg_binding:function(t){I[t?"unshift":"push"](()=>{n("svgElement",u=t)})},div6_resize_handler:function(){f=this.offsetWidth,s=this.offsetHeight,n("width",f),n("height",s)}}}class Zf extends ut{constructor(t){super(),st(this,t,qf,Hf,o,["data","colors"])}}function Xf(e){var n;return{c(){(n=y("div")).innerHTML='\n\t\t\t  Would be great to know where you all come from. So do you accept the use of cookies for Google Analytics?\n\t\t\t  <button id="cookies-eu-reject" class="svelte-5zvkk8">Reject</button> <button id="cookies-eu-accept" class="svelte-5zvkk8">Accept</button>',A(n,"id","cookies-eu-banner"),A(n,"class","svelte-5zvkk8")},m(t,e){g(t,n,e)},p:t,i:t,o:t,d(t){t&&v(n)}}}class Bf extends ut{constructor(t){super(),st(this,t,null,Xf,o,[])}}function Vf(e){return{c:t,m:t,p:t,i:t,o:t,d:t}}function Gf(t){var e,n=new Nf({props:{data:t.data,timeRange:t.timeRange,colors:t.colors}});return n.$on("flightclick",t.flightclick_handler),{c(){n.$$.fragment.c()},m(t,r){ct(n,t,r),e=!0},p(t,e){var r={};t.data&&(r.data=e.data),t.timeRange&&(r.timeRange=e.timeRange),t.colors&&(r.colors=e.colors),n.$set(r)},i(t){e||(et(n.$$.fragment,t),e=!0)},o(t){nt(n.$$.fragment,t),e=!1},d(t){ot(n,t)}}}function Jf(e){return{c:t,m:t,p:t,i:t,o:t,d:t}}function Qf(e){return{c:t,m:t,p:t,i:t,o:t,d:t}}function Kf(t){var e,n=new Of({props:{data:t.data.find(t.func_2)}});return{c(){n.$$.fragment.c()},m(t,r){ct(n,t,r),e=!0},p(t,e){var r={};(t.data||t.highlightedFlightId)&&(r.data=e.data.find(e.func_2)),n.$set(r)},i(t){e||(et(n.$$.fragment,t),e=!0)},o(t){nt(n.$$.fragment,t),e=!1},d(t){ot(n,t)}}}function ts(e){return{c:t,m:t,p:t,i:t,o:t,d:t}}function es(e){return{c:t,m:t,p:t,i:t,o:t,d:t}}function ns(t){var e,n=new Zf({props:{data:t.data,colors:t.colors}});return n.$on("timerangeselected",t.timerangeselected_handler),{c(){n.$$.fragment.c()},m(t,r){ct(n,t,r),e=!0},p(t,e){var r={};t.data&&(r.data=e.data),t.colors&&(r.colors=e.colors),n.$set(r)},i(t){e||(et(n.$$.fragment,t),e=!0)},o(t){nt(n.$$.fragment,t),e=!1},d(t){ot(n,t)}}}function rs(e){return{c:t,m:t,p:t,i:t,o:t,d:t}}function as(t){var e,r,a,i,c,o,f,s,u,l,d,h,b,m,_,w,M,C,T,$,N,S;X(t.onwindowresize);var D=new Bf({});let E={ctx:t,current:null,token:null,pending:Jf,then:Gf,catch:Vf,value:"data",error:"null",blocks:[,,,]};at(s=t.data.find(is).data,E);var P=new bt({});let L={ctx:t,current:null,token:null,pending:ts,then:Kf,catch:Qf,value:"data",error:"null",blocks:[,,,]};at(m=t.data.find(cs).data,L);let U={ctx:t,current:null,token:null,pending:rs,then:ns,catch:es,value:"data",error:"null",blocks:[,,,]};return at(C=t.data.find(os).data,U),{c(){e=x(),r=y("div"),D.$$.fragment.c(),a=x(),(i=y("div")).innerHTML='<h1 class="svelte-inoekf">30 days to takeoff</h1> <h3 class="svelte-inoekf">Following thousands of flight prices starting a month before departure.</h3>',c=x(),o=y("div"),f=y("div"),E.block.c(),u=x(),l=y("div"),d=y("div"),P.$$.fragment.c(),h=x(),b=y("div"),L.block.c(),_=x(),w=y("div"),M=y("div"),U.block.c(),T=x(),($=y("div")).innerHTML='Analysis and visualisation by <a href="https://linkedin.com/in/matthias-stahl" class="svelte-inoekf">Matthias Stahl</a>, 2020.',A(i,"class","title-bar svelte-inoekf"),A(f,"class","container radial-graph svelte-inoekf"),A(o,"class","top-wrapper svelte-inoekf"),A(d,"class","left legend svelte-inoekf"),A(b,"class","right svelte-inoekf"),A(l,"class","info-bar svelte-inoekf"),A(M,"class","container time-brush svelte-inoekf"),A(w,"class","time-bar svelte-inoekf"),A($,"class","footer svelte-inoekf"),A(r,"class","outer-wrapper svelte-inoekf"),S=k(window,"resize",t.onwindowresize)},m(t,n){g(t,e,n),g(t,r,n),ct(D,r,null),p(r,a),p(r,i),p(r,c),p(r,o),p(o,f),E.block.m(f,E.anchor=null),E.mount=(()=>f),E.anchor=null,p(r,u),p(r,l),p(l,d),ct(P,d,null),p(l,h),p(l,b),L.block.m(b,L.anchor=null),L.mount=(()=>b),L.anchor=null,p(r,_),p(r,w),p(w,M),U.block.m(M,U.anchor=null),U.mount=(()=>M),U.anchor=null,p(r,T),p(r,$),N=!0},p(e,r){t=r,E.ctx=t,"data"in e&&s!==(s=t.data.find(is).data)&&at(s,E)||E.block.p(e,n(n({},t),E.resolved)),L.ctx=t,"data"in e&&m!==(m=t.data.find(cs).data)&&at(m,L)||L.block.p(e,n(n({},t),L.resolved)),U.ctx=t,"data"in e&&C!==(C=t.data.find(os).data)&&at(C,U)||U.block.p(e,n(n({},t),U.resolved))},i(t){N||(et(D.$$.fragment,t),et(E.block),et(P.$$.fragment,t),et(L.block),et(U.block),N=!0)},o(t){nt(D.$$.fragment,t);for(let t=0;t<3;t+=1){nt(E.blocks[t])}nt(P.$$.fragment,t);for(let t=0;t<3;t+=1){nt(L.blocks[t])}for(let t=0;t<3;t+=1){nt(U.blocks[t])}N=!1},d(t){t&&(v(e),v(r)),ot(D),E.block.d(),E.token=null,E=null,ot(P),L.block.d(),L.token=null,L=null,U.block.d(),U.token=null,U=null,S()}}}function is(t){return"flights"===t.name}function cs(t){return"flightInfo"===t.name}function os(t){return"flightInfo"===t.name}function fs(t,e,n){const r=[{name:"flightInfo",path:"data/flight_info.csv",callback:function(t){return{...t,arrival:yf(t.arrival),departure:yf(t.departure),departureRounded:yf(t.departureRounded),meanPrice:+t.meanPrice,medianPrice:+t.medianPrice,sumPrice:+t.sumPrice,sdPrice:+t.sdPrice,endPrice:isNaN(+t.endPrice)?0:+t.endPrice}}},{name:"flights",path:"data/flights_by_day_to_departure.csv",callback:function(t){return{...t,price:parseFloat(t.price),timeToDepartureDays:+t.timeToDepartureDays,departure:yf(t.departure)}}}];let a,i,c=r.map(t=>({name:t.name,data:[]})),o=[],f=null;return O(async function(){n("data",c=await Promise.all(r.map(t=>({name:t.name,data:Ca(t.path,t.callback)}))))}),{colors:{lowPrice:"#2274A5",endPrice:"#E3D8F1",highPrice:"#EF6461",lightGray:"#DDD"},width:a,height:i,data:c,timeRange:o,highlightedFlightId:f,onwindowresize:function(){a=window.innerWidth,n("width",a),i=window.innerHeight,n("height",i)},flightclick_handler:function(t){const e=f=t.detail;return n("highlightedFlightId",f),e},func_2:function(t){return t.flightIdUnique===f},timerangeselected_handler:function(t){const e=o=t.detail;return n("timeRange",o),e}}}var ss,us=(function(t,e){var n,r;window,t.exports=(r=window.document,(n=function(t,e,r,a){if(!(this instanceof n))return new n(t);this.cookieTimeout=33696e6,this.bots=/bot|crawler|spider|crawling/i,this.cookieName="hasConsent",this.trackingCookiesNames=["__utma","__utmb","__utmc","__utmt","__utmv","__utmz","_ga","_gat","_gid"],this.launchFunction=t,this.waitAccept=e||!1,this.useLocalStorage=r||!1,this.init()}).prototype={init:function(){var t=this.bots.test(navigator.userAgent),e=navigator.doNotTrack||navigator.msDoNotTrack||window.doNotTrack;return t||!(null==e||e&&"yes"!==e&&1!==e&&"1"!==e)||!1===this.hasConsent()?(this.removeBanner(0),!1):!0===this.hasConsent()?(this.launchFunction(),!0):(this.showBanner(),void(this.waitAccept||this.setConsent(!0)))},showBanner:function(){var t=this,e=r.getElementById.bind(r),n=e("cookies-eu-banner"),a=e("cookies-eu-reject"),i=e("cookies-eu-accept"),c=e("cookies-eu-more"),o=void 0===n.dataset.waitRemove?0:parseInt(n.dataset.waitRemove),f=this.addClickListener,s=t.removeBanner.bind(t,o);n.style.display="block",c&&f(c,function(){t.deleteCookie(t.cookieName)}),i&&f(i,function(){s(),t.setConsent(!0),t.launchFunction()}),a&&f(a,function(){s(),t.setConsent(!1),t.trackingCookiesNames.map(t.deleteCookie)})},setConsent:function(t){if(this.useLocalStorage)return localStorage.setItem(this.cookieName,t);this.setCookie(this.cookieName,t)},hasConsent:function(){function t(t){return-1<r.cookie.indexOf(e+"="+t)||localStorage.getItem(e)===t}var e=this.cookieName;return!!t("true")||!t("false")&&null},setCookie:function(t,e){var n=new Date;n.setTime(n.getTime()+this.cookieTimeout),r.cookie=t+"="+e+";expires="+n.toGMTString()+";path=/"},deleteCookie:function(t){var e=r.location.hostname.replace(/^www\./,""),n="; expires=Thu, 01-Jan-1970 00:00:01 GMT; path=/";r.cookie=t+"=; domain=."+e+n,r.cookie=t+"="+n},addClickListener:function(t,e){if(t.attachEvent)return t.attachEvent("onclick",e);t.addEventListener("click",e)},removeBanner:function(t){setTimeout(function(){var t=r.getElementById("cookies-eu-banner");t&&t.parentNode&&t.parentNode.removeChild(t)},t)}},n)}(ss={exports:{}},ss.exports),ss.exports);const ls=new class extends ut{constructor(t){super(),st(this,t,fs,as,o,[])}}({target:document.body});return new us(function(){(t=>{function e(){window.dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],e("js",new Date),e("config",t);const n=document.createElement("script");n.src=`https://www.googletagmanager.com/gtag/js?id=${t}`,document.body.appendChild(n)})("UA-156964030-2")},!0),ls}();
//# sourceMappingURL=bundle.js.map
